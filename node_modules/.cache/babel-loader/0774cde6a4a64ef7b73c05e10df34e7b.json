{"ast":null,"code":"var _jsxFileName = \"/Users/safahi/Documents/GitHub/interface/hollisDEX/src/pages/Beta/Swap/WatchList/WatchlistRow.tsx\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Text, Box, CurrencyLogo } from '@pangolindex/components';\nimport { LineChart, Line, ResponsiveContainer } from 'recharts';\nimport { DeleteButton, RowWrapper } from './styleds';\nimport { ThemeContext } from 'styled-components';\nimport useUSDCPrice from 'src/utils/useUSDCPrice';\nimport { useTokenWeeklyChartData } from 'src/state/token/hooks';\nimport { unwrappedToken } from 'src/utils/wrappedCurrency';\nimport { X } from 'react-feather';\nimport { removeCurrency } from 'src/state/watchlists/actions';\nimport { useDispatch } from 'react-redux';\nimport { PNG } from 'src/constants/tokens';\nimport { useChainId } from 'src/hooks';\n\nconst WatchlistRow = _ref => {\n  var _coin$address, _chartData, _chartData$;\n\n  let {\n    coin,\n    onClick,\n    onRemove,\n    isSelected\n  } = _ref;\n  // const { chainId = ChainId.AVALANCHE } = useActiveWeb3React()\n  const chainId = useChainId();\n  const [showChart, setShowChart] = useState(false);\n  const [showDeleteButton, setShowDeleteButton] = useState(false);\n  const theme = useContext(ThemeContext);\n  const usdcPrice = useUSDCPrice(coin);\n  const chartData = useTokenWeeklyChartData(coin === null || coin === void 0 ? void 0 : (_coin$address = coin.address) === null || _coin$address === void 0 ? void 0 : _coin$address.toLowerCase());\n  const currentUSDPrice = (chartData === null || chartData === void 0 ? void 0 : (_chartData = chartData[(chartData || []).length - 1]) === null || _chartData === void 0 ? void 0 : _chartData.priceUSD) || 0;\n  const previousUSDPrice = (chartData === null || chartData === void 0 ? void 0 : (_chartData$ = chartData[0]) === null || _chartData$ === void 0 ? void 0 : _chartData$.priceUSD) || 0;\n  const diffPercent = currentUSDPrice - previousUSDPrice < 0 ? -1 : 1;\n  const decreaseValue = currentUSDPrice - previousUSDPrice;\n  const perc = decreaseValue / previousUSDPrice * 100;\n  const token = unwrappedToken(coin, chainId);\n  const dispatch = useDispatch();\n\n  const removeToken = () => {\n    onRemove();\n    dispatch(removeCurrency(coin === null || coin === void 0 ? void 0 : coin.address));\n  };\n\n  useEffect(() => {\n    if (usdcPrice) {\n      setTimeout(() => {\n        // show chart only after price of token comes to display chart in visible space\n        setShowChart(true);\n      });\n    }\n  }, [usdcPrice, setShowChart]);\n  return /*#__PURE__*/React.createElement(RowWrapper, {\n    isSelected: isSelected,\n    onMouseEnter: () => setShowDeleteButton(true),\n    onMouseLeave: () => setShowDeleteButton(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    alignItems: \"center\",\n    height: '100%',\n    onClick: onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CurrencyLogo, {\n    size: 24,\n    currency: token,\n    imageSize: 48,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Text, {\n    color: \"text1\",\n    fontSize: 20,\n    fontWeight: 500,\n    marginLeft: '6px',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, token.symbol)), /*#__PURE__*/React.createElement(Box, {\n    px: \"7px\",\n    display: \"flex\",\n    alignItems: \"center\",\n    height: '100%',\n    onClick: onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, showChart && /*#__PURE__*/React.createElement(ResponsiveContainer, {\n    height: 20,\n    width: '99%',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(LineChart, {\n    data: chartData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Line, {\n    type: \"monotone\",\n    dataKey: \"priceUSD\",\n    stroke: diffPercent >= 0 ? theme.green1 : theme.red1,\n    dot: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(Box, {\n    textAlign: \"right\",\n    minWidth: 30,\n    height: '100%',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, showDeleteButton && coin.address !== PNG[chainId].address && /*#__PURE__*/React.createElement(Box, {\n    zIndex: 2,\n    position: \"relative\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(DeleteButton, {\n    onClick: removeToken,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(X, {\n    fontSize: 16,\n    fontWeight: 600,\n    style: {\n      float: 'right'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    height: \"100%\",\n    onClick: onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    color: \"text1\",\n    fontSize: 14,\n    fontWeight: 500,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, usdcPrice ? `$${usdcPrice === null || usdcPrice === void 0 ? void 0 : usdcPrice.toSignificant(4, {\n    groupSeparator: ','\n  })}` : '-'), !isNaN(perc) && /*#__PURE__*/React.createElement(Text, {\n    color: diffPercent > 0 ? 'green1' : 'red1',\n    fontSize: '8px',\n    fontWeight: 500,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, perc.toFixed(3), \"%\"))));\n};\n\nexport default WatchlistRow;","map":{"version":3,"sources":["/Users/safahi/Documents/GitHub/interface/hollisDEX/src/pages/Beta/Swap/WatchList/WatchlistRow.tsx"],"names":["React","useContext","useEffect","useState","Text","Box","CurrencyLogo","LineChart","Line","ResponsiveContainer","DeleteButton","RowWrapper","ThemeContext","useUSDCPrice","useTokenWeeklyChartData","unwrappedToken","X","removeCurrency","useDispatch","PNG","useChainId","WatchlistRow","coin","onClick","onRemove","isSelected","chainId","showChart","setShowChart","showDeleteButton","setShowDeleteButton","theme","usdcPrice","chartData","address","toLowerCase","currentUSDPrice","length","priceUSD","previousUSDPrice","diffPercent","decreaseValue","perc","token","dispatch","removeToken","setTimeout","symbol","green1","red1","float","toSignificant","groupSeparator","isNaN","toFixed"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\nimport { Text, Box, CurrencyLogo } from '@pangolindex/components'\nimport { LineChart, Line, ResponsiveContainer } from 'recharts'\nimport { Token } from '@pangolindex/sdk'\nimport { DeleteButton, RowWrapper } from './styleds'\nimport { ThemeContext } from 'styled-components'\nimport useUSDCPrice from 'src/utils/useUSDCPrice'\nimport { useTokenWeeklyChartData } from 'src/state/token/hooks'\nimport { unwrappedToken } from 'src/utils/wrappedCurrency'\nimport { X } from 'react-feather'\nimport { removeCurrency } from 'src/state/watchlists/actions'\nimport { useDispatch } from 'react-redux'\nimport { AppDispatch } from 'src/state'\nimport { PNG } from 'src/constants/tokens'\nimport { useChainId } from 'src/hooks'\n\ntype Props = {\n  coin: Token\n  onClick: () => void\n  onRemove: () => void\n  isSelected: boolean\n}\n\nconst WatchlistRow: React.FC<Props> = ({ coin, onClick, onRemove, isSelected }) => {\n  // const { chainId = ChainId.AVALANCHE } = useActiveWeb3React()\n  const chainId = useChainId()\n  const [showChart, setShowChart] = useState(false)\n  const [showDeleteButton, setShowDeleteButton] = useState(false)\n  const theme = useContext(ThemeContext)\n  const usdcPrice = useUSDCPrice(coin)\n\n  const chartData = useTokenWeeklyChartData(coin?.address?.toLowerCase())\n\n  const currentUSDPrice = chartData?.[(chartData || []).length - 1]?.priceUSD || 0\n  const previousUSDPrice = chartData?.[0]?.priceUSD || 0\n  const diffPercent = currentUSDPrice - previousUSDPrice < 0 ? -1 : 1\n  const decreaseValue = currentUSDPrice - previousUSDPrice\n  const perc = (decreaseValue / previousUSDPrice) * 100\n\n  const token = unwrappedToken(coin, chainId)\n\n  const dispatch = useDispatch<AppDispatch>()\n\n  const removeToken = () => {\n    onRemove()\n    dispatch(removeCurrency(coin?.address))\n  }\n\n  useEffect(() => {\n    if (usdcPrice) {\n      setTimeout(() => {\n        // show chart only after price of token comes to display chart in visible space\n        setShowChart(true)\n      })\n    }\n  }, [usdcPrice, setShowChart])\n\n  return (\n    <RowWrapper\n      isSelected={isSelected}\n      onMouseEnter={() => setShowDeleteButton(true)}\n      onMouseLeave={() => setShowDeleteButton(false)}\n    >\n      <Box display=\"flex\" alignItems=\"center\" height={'100%'} onClick={onClick}>\n        <CurrencyLogo size={24} currency={token} imageSize={48} />\n        <Text color=\"text1\" fontSize={20} fontWeight={500} marginLeft={'6px'}>\n          {token.symbol}\n        </Text>\n      </Box>\n      <Box px=\"7px\" display=\"flex\" alignItems=\"center\" height={'100%'} onClick={onClick}>\n        {/* show chart only after price of token comes to display chart in visible space */}\n        {/* rechart has responsive container in mobile view when add 3rd row its gradually increase width so if we set width 99% then its resolved */}\n        {/* ref: https://github.com/recharts/recharts/issues/172#issuecomment-307858843 */}\n        {showChart && (\n          <ResponsiveContainer height={20} width={'99%'}>\n            <LineChart data={chartData}>\n              <Line\n                type=\"monotone\"\n                dataKey=\"priceUSD\"\n                stroke={diffPercent >= 0 ? theme.green1 : theme.red1}\n                dot={false}\n              />\n            </LineChart>\n          </ResponsiveContainer>\n        )}\n      </Box>\n      <Box textAlign=\"right\" minWidth={30} height={'100%'}>\n        {showDeleteButton && coin.address !== PNG[chainId].address && (\n          <Box zIndex={2} position=\"relative\">\n            <DeleteButton onClick={removeToken}>\n              <X fontSize={16} fontWeight={600} style={{ float: 'right' }} />\n            </DeleteButton>\n          </Box>\n        )}\n        <Box display=\"flex\" flexDirection=\"column\" justifyContent=\"center\" height=\"100%\" onClick={onClick}>\n          <Text color=\"text1\" fontSize={14} fontWeight={500}>\n            {usdcPrice ? `$${usdcPrice?.toSignificant(4, { groupSeparator: ',' })}` : '-'}\n          </Text>\n          {!isNaN(perc) && (\n            <Text color={diffPercent > 0 ? 'green1' : 'red1'} fontSize={'8px'} fontWeight={500}>\n              {perc.toFixed(3)}%\n            </Text>\n          )}\n        </Box>\n      </Box>\n    </RowWrapper>\n  )\n}\n\nexport default WatchlistRow\n"]},"metadata":{},"sourceType":"module"}