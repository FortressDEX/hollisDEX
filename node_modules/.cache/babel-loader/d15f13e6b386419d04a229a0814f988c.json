{"ast":null,"code":"var _jsxFileName = \"/Users/safahi/Documents/GitHub/interface/hollisDEX/src/pages/RemoveLiquidity/index.tsx\";\nimport { splitSignature } from '@ethersproject/bytes';\nimport { currencyEquals, CAVAX, Percent, WAVAX, ChainId } from '@pangolindex/sdk';\nimport React, { useCallback, useContext, useMemo, useState } from 'react';\nimport { ArrowDown, Plus } from 'react-feather';\nimport ReactGA from 'react-ga';\nimport { Text } from 'rebass';\nimport { ThemeContext } from 'styled-components';\nimport { ButtonPrimary, ButtonLight, ButtonError, ButtonConfirmed } from '../../components/Button';\nimport { LightCard } from '../../components/Card';\nimport { AutoColumn, ColumnCenter } from '../../components/Column';\nimport TransactionConfirmationModal, { ConfirmationModalContent } from '../../components/TransactionConfirmationModal';\nimport CurrencyInputPanel from '../../components/CurrencyInputPanel';\nimport DoubleCurrencyLogo from '../../components/DoubleLogo';\nimport { AddRemoveTabs } from '../../components/NavigationTabs';\nimport { MinimalPositionCard } from '../../components/PositionCard';\nimport Row, { RowBetween, RowFixed } from '../../components/Row';\nimport Slider from '../../components/Slider';\nimport CurrencyLogo from '../../components/CurrencyLogo';\nimport { ROUTER_ADDRESS } from '../../constants';\nimport { useActiveWeb3React, useChainId } from '../../hooks';\nimport { useCurrency } from '../../hooks/Tokens';\nimport { usePairContract } from '../../hooks/useContract';\nimport useTransactionDeadline from '../../hooks/useTransactionDeadline';\nimport { useTransactionAdder } from '../../state/transactions/hooks';\nimport { StyledInternalLink, TYPE } from '../../theme';\nimport { calculateGasMargin, calculateSlippageAmount, getRouterContract } from '../../utils';\nimport { currencyId } from '../../utils/currencyId';\nimport useDebouncedChangeHandler from '../../utils/useDebouncedChangeHandler';\nimport { wrappedCurrency } from '../../utils/wrappedCurrency';\nimport AppBody from '../AppBody';\nimport { ClickableText, MaxButton, Wrapper } from '../Pool/styleds';\nimport { useApproveCallback, ApprovalState } from '../../hooks/useApproveCallback';\nimport { Dots } from '../../components/swap/styleds';\nimport { useBurnActionHandlers } from '../../state/burn/hooks';\nimport { useDerivedBurnInfo, useBurnState } from '../../state/burn/hooks';\nimport { Field } from '../../state/burn/actions';\nimport { useWalletModalToggle } from '../../state/application/hooks';\nimport { useUserSlippageTolerance } from '../../state/user/hooks';\nimport { BigNumber } from '@ethersproject/bignumber';\nimport { useTranslation } from 'react-i18next';\nexport default function RemoveLiquidity(_ref) {\n  var _useCurrency, _useCurrency2, _parsedAmounts$Field$, _parsedAmounts$Field$2, _parsedAmounts$Field$3, _parsedAmounts$Field$4, _parsedAmounts$Field$5, _parsedAmounts$Field$6, _parsedAmounts$Field$7, _pair$liquidityToken, _parsedAmounts$Field$13, _parsedAmounts$Field$14;\n\n  let {\n    history,\n    match: {\n      params: {\n        currencyIdA,\n        currencyIdB\n      }\n    }\n  } = _ref;\n  const [currencyA, currencyB] = [(_useCurrency = useCurrency(currencyIdA)) !== null && _useCurrency !== void 0 ? _useCurrency : undefined, (_useCurrency2 = useCurrency(currencyIdB)) !== null && _useCurrency2 !== void 0 ? _useCurrency2 : undefined];\n  const {\n    account,\n    library\n  } = useActiveWeb3React();\n  const chainId = useChainId();\n  const [tokenA, tokenB] = useMemo(() => [wrappedCurrency(currencyA, chainId), wrappedCurrency(currencyB, chainId)], [currencyA, currencyB, chainId]);\n  const theme = useContext(ThemeContext); // toggle wallet when disconnected\n\n  const toggleWalletModal = useWalletModalToggle(); // burn state\n\n  const {\n    independentField,\n    typedValue\n  } = useBurnState();\n  const {\n    pair,\n    parsedAmounts,\n    error\n  } = useDerivedBurnInfo(currencyA !== null && currencyA !== void 0 ? currencyA : undefined, currencyB !== null && currencyB !== void 0 ? currencyB : undefined);\n  const {\n    onUserInput: _onUserInput\n  } = useBurnActionHandlers();\n  const isValid = !error; // modal and loading\n\n  const [showConfirm, setShowConfirm] = useState(false);\n  const [showDetailed, setShowDetailed] = useState(false);\n  const [attemptingTxn, setAttemptingTxn] = useState(false); // clicked confirm\n  // txn values\n\n  const [txHash, setTxHash] = useState('');\n  const deadline = useTransactionDeadline();\n  const [allowedSlippage] = useUserSlippageTolerance();\n  const {\n    t\n  } = useTranslation();\n  const formattedAmounts = {\n    [Field.LIQUIDITY_PERCENT]: parsedAmounts[Field.LIQUIDITY_PERCENT].equalTo('0') ? '0' : parsedAmounts[Field.LIQUIDITY_PERCENT].lessThan(new Percent('1', '100')) ? '<1' : parsedAmounts[Field.LIQUIDITY_PERCENT].toFixed(0),\n    [Field.LIQUIDITY]: independentField === Field.LIQUIDITY ? typedValue : (_parsedAmounts$Field$ = (_parsedAmounts$Field$2 = parsedAmounts[Field.LIQUIDITY]) === null || _parsedAmounts$Field$2 === void 0 ? void 0 : _parsedAmounts$Field$2.toSignificant(6)) !== null && _parsedAmounts$Field$ !== void 0 ? _parsedAmounts$Field$ : '',\n    [Field.CURRENCY_A]: independentField === Field.CURRENCY_A ? typedValue : (_parsedAmounts$Field$3 = (_parsedAmounts$Field$4 = parsedAmounts[Field.CURRENCY_A]) === null || _parsedAmounts$Field$4 === void 0 ? void 0 : _parsedAmounts$Field$4.toSignificant(6)) !== null && _parsedAmounts$Field$3 !== void 0 ? _parsedAmounts$Field$3 : '',\n    [Field.CURRENCY_B]: independentField === Field.CURRENCY_B ? typedValue : (_parsedAmounts$Field$5 = (_parsedAmounts$Field$6 = parsedAmounts[Field.CURRENCY_B]) === null || _parsedAmounts$Field$6 === void 0 ? void 0 : _parsedAmounts$Field$6.toSignificant(6)) !== null && _parsedAmounts$Field$5 !== void 0 ? _parsedAmounts$Field$5 : ''\n  };\n  const atMaxAmount = (_parsedAmounts$Field$7 = parsedAmounts[Field.LIQUIDITY_PERCENT]) === null || _parsedAmounts$Field$7 === void 0 ? void 0 : _parsedAmounts$Field$7.equalTo(new Percent('1')); // pair contract\n\n  const pairContract = usePairContract(pair === null || pair === void 0 ? void 0 : (_pair$liquidityToken = pair.liquidityToken) === null || _pair$liquidityToken === void 0 ? void 0 : _pair$liquidityToken.address); // allowance handling\n\n  const [signatureData, setSignatureData] = useState(null);\n  const [approval, approveCallback] = useApproveCallback(chainId, parsedAmounts[Field.LIQUIDITY], ROUTER_ADDRESS[chainId]);\n  const isArgentWallet = false;\n\n  async function onAttemptToApprove() {\n    // TODO: Translate using i18n\n    if (!pairContract || !pair || !library || !deadline || !chainId || !account) throw new Error('missing dependencies');\n    const liquidityAmount = parsedAmounts[Field.LIQUIDITY];\n    if (!liquidityAmount) throw new Error('missing liquidity amount');\n\n    if (isArgentWallet) {\n      return approveCallback();\n    } // try to gather a signature for permission\n\n\n    const nonce = await pairContract.nonces(account);\n    const EIP712Domain = [{\n      name: 'name',\n      type: 'string'\n    }, {\n      name: 'version',\n      type: 'string'\n    }, {\n      name: 'chainId',\n      type: 'uint256'\n    }, {\n      name: 'verifyingContract',\n      type: 'address'\n    }];\n    const domain = {\n      name: 'Pangolin Liquidity',\n      version: '1',\n      chainId: chainId,\n      verifyingContract: pair.liquidityToken.address\n    };\n    const Permit = [{\n      name: 'owner',\n      type: 'address'\n    }, {\n      name: 'spender',\n      type: 'address'\n    }, {\n      name: 'value',\n      type: 'uint256'\n    }, {\n      name: 'nonce',\n      type: 'uint256'\n    }, {\n      name: 'deadline',\n      type: 'uint256'\n    }];\n    const message = {\n      owner: account,\n      spender: ROUTER_ADDRESS[chainId],\n      value: liquidityAmount.raw.toString(),\n      nonce: nonce.toHexString(),\n      deadline: deadline.toNumber()\n    };\n    const data = JSON.stringify({\n      types: {\n        EIP712Domain,\n        Permit\n      },\n      domain,\n      primaryType: 'Permit',\n      message\n    });\n    library.send('eth_signTypedData_v4', [account, data]).then(splitSignature).then(signature => {\n      setSignatureData({\n        v: signature.v,\n        r: signature.r,\n        s: signature.s,\n        deadline: deadline.toNumber()\n      });\n    }).catch(error => {\n      // for all errors other than 4001 (EIP-1193 user rejected request), fall back to manual approve\n      if ((error === null || error === void 0 ? void 0 : error.code) !== 4001) {\n        approveCallback();\n      }\n    });\n  } // wrapped onUserInput to clear signatures\n\n\n  const onUserInput = useCallback((field, typedValue) => {\n    setSignatureData(null);\n    return _onUserInput(field, typedValue);\n  }, [_onUserInput]);\n  const onLiquidityInput = useCallback(typedValue => onUserInput(Field.LIQUIDITY, typedValue), [onUserInput]);\n  const onCurrencyAInput = useCallback(typedValue => onUserInput(Field.CURRENCY_A, typedValue), [onUserInput]);\n  const onCurrencyBInput = useCallback(typedValue => onUserInput(Field.CURRENCY_B, typedValue), [onUserInput]); // tx sending\n\n  const addTransaction = useTransactionAdder();\n\n  async function onRemove() {\n    if (!chainId || !library || !account || !deadline) throw new Error('missing dependencies');\n    const {\n      [Field.CURRENCY_A]: currencyAmountA,\n      [Field.CURRENCY_B]: currencyAmountB\n    } = parsedAmounts;\n\n    if (!currencyAmountA || !currencyAmountB) {\n      // TODO: Translate using i18n\n      throw new Error('missing currency amounts');\n    }\n\n    const router = getRouterContract(chainId, library, account);\n    const amountsMin = {\n      [Field.CURRENCY_A]: calculateSlippageAmount(currencyAmountA, allowedSlippage)[0],\n      [Field.CURRENCY_B]: calculateSlippageAmount(currencyAmountB, allowedSlippage)[0]\n    }; // TODO: Translate using i18n\n\n    if (!currencyA || !currencyB) throw new Error('missing tokens');\n    const liquidityAmount = parsedAmounts[Field.LIQUIDITY];\n    if (!liquidityAmount) throw new Error('missing liquidity amount');\n    const currencyBIsETH = currencyB === CAVAX[chainId];\n    const oneCurrencyIsETH = currencyA === CAVAX[chainId] || currencyBIsETH; // TODO: Translate using i18n\n\n    if (!tokenA || !tokenB) throw new Error('could not wrap');\n    let methodNames, args; // we have approval, use normal remove liquidity\n\n    if (approval === ApprovalState.APPROVED) {\n      // removeLiquidityAVAX\n      if (oneCurrencyIsETH) {\n        methodNames = ['removeLiquidityAVAX', 'removeLiquidityAVAXSupportingFeeOnTransferTokens'];\n        args = [currencyBIsETH ? tokenA.address : tokenB.address, liquidityAmount.raw.toString(), amountsMin[currencyBIsETH ? Field.CURRENCY_A : Field.CURRENCY_B].toString(), amountsMin[currencyBIsETH ? Field.CURRENCY_B : Field.CURRENCY_A].toString(), account, deadline.toHexString()];\n      } // removeLiquidity\n      else {\n        methodNames = ['removeLiquidity'];\n        args = [tokenA.address, tokenB.address, liquidityAmount.raw.toString(), amountsMin[Field.CURRENCY_A].toString(), amountsMin[Field.CURRENCY_B].toString(), account, deadline.toHexString()];\n      }\n    } // we have a signataure, use permit versions of remove liquidity\n    else if (signatureData !== null) {\n      // removeLiquidityAVAXWithPermit\n      if (oneCurrencyIsETH) {\n        methodNames = ['removeLiquidityAVAXWithPermit', 'removeLiquidityAVAXWithPermitSupportingFeeOnTransferTokens'];\n        args = [currencyBIsETH ? tokenA.address : tokenB.address, liquidityAmount.raw.toString(), amountsMin[currencyBIsETH ? Field.CURRENCY_A : Field.CURRENCY_B].toString(), amountsMin[currencyBIsETH ? Field.CURRENCY_B : Field.CURRENCY_A].toString(), account, signatureData.deadline, false, signatureData.v, signatureData.r, signatureData.s];\n      } // removeLiquidityAVAXWithPermit\n      else {\n        methodNames = ['removeLiquidityWithPermit'];\n        args = [tokenA.address, tokenB.address, liquidityAmount.raw.toString(), amountsMin[Field.CURRENCY_A].toString(), amountsMin[Field.CURRENCY_B].toString(), account, signatureData.deadline, false, signatureData.v, signatureData.r, signatureData.s];\n      }\n    } else {\n      // TODO: Translate using i18n\n      throw new Error('Attempting to confirm without approval or a signature. Please contact support.');\n    }\n\n    const safeGasEstimates = await Promise.all(methodNames.map(methodName => router.estimateGas[methodName](...args).then(calculateGasMargin).catch(error => {\n      console.error(`estimateGas failed`, methodName, args, error);\n      return undefined;\n    })));\n    const indexOfSuccessfulEstimation = safeGasEstimates.findIndex(safeGasEstimate => BigNumber.isBigNumber(safeGasEstimate)); // all estimations failed...\n\n    if (indexOfSuccessfulEstimation === -1) {\n      console.error('This transaction would fail. Please contact support.');\n    } else {\n      const methodName = methodNames[indexOfSuccessfulEstimation];\n      const safeGasEstimate = safeGasEstimates[indexOfSuccessfulEstimation];\n      setAttemptingTxn(true);\n      await router[methodName](...args, {\n        gasLimit: safeGasEstimate\n      }).then(response => {\n        var _parsedAmounts$Field$8, _parsedAmounts$Field$9;\n\n        setAttemptingTxn(false); // TODO: Translate using i18n\n\n        addTransaction(response, {\n          summary: t('removeLiquidity.remove') + ' ' + ((_parsedAmounts$Field$8 = parsedAmounts[Field.CURRENCY_A]) === null || _parsedAmounts$Field$8 === void 0 ? void 0 : _parsedAmounts$Field$8.toSignificant(3)) + ' ' + (currencyA === null || currencyA === void 0 ? void 0 : currencyA.symbol) + ' and ' + ((_parsedAmounts$Field$9 = parsedAmounts[Field.CURRENCY_B]) === null || _parsedAmounts$Field$9 === void 0 ? void 0 : _parsedAmounts$Field$9.toSignificant(3)) + ' ' + (currencyB === null || currencyB === void 0 ? void 0 : currencyB.symbol)\n        });\n        setTxHash(response.hash);\n        ReactGA.event({\n          category: 'Liquidity',\n          action: 'Remove',\n          label: [currencyA === null || currencyA === void 0 ? void 0 : currencyA.symbol, currencyB === null || currencyB === void 0 ? void 0 : currencyB.symbol].join('/')\n        });\n      }).catch(error => {\n        setAttemptingTxn(false); // we only care if the error is something _other_ than the user rejected the tx\n\n        console.error(error);\n      });\n    }\n  }\n\n  const NETWORK_CURRENCY = {\n    [ChainId.FUJI]: 'AVAX',\n    [ChainId.AVALANCHE]: 'AVAX',\n    [ChainId.WAGMI]: 'WGM'\n  };\n  const NETWORK_WRAPPED_CURRENCY = {\n    [ChainId.FUJI]: 'WAVAX',\n    [ChainId.AVALANCHE]: 'WAVAX',\n    [ChainId.WAGMI]: 'wWAGMI'\n  };\n\n  function modalHeader() {\n    var _parsedAmounts$Field$10, _parsedAmounts$Field$11;\n\n    return /*#__PURE__*/React.createElement(AutoColumn, {\n      gap: 'md',\n      style: {\n        marginTop: '20px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(RowBetween, {\n      align: \"flex-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Text, {\n      fontSize: 24,\n      fontWeight: 500,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 11\n      }\n    }, (_parsedAmounts$Field$10 = parsedAmounts[Field.CURRENCY_A]) === null || _parsedAmounts$Field$10 === void 0 ? void 0 : _parsedAmounts$Field$10.toSignificant(6)), /*#__PURE__*/React.createElement(RowFixed, {\n      gap: \"4px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 11\n      }\n    }, chainId && /*#__PURE__*/React.createElement(CurrencyLogo, {\n      currency: currencyA,\n      size: 24,\n      chainId: chainId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Text, {\n      fontSize: 24,\n      fontWeight: 500,\n      style: {\n        marginLeft: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 13\n      }\n    }, currencyA === null || currencyA === void 0 ? void 0 : currencyA.symbol))), /*#__PURE__*/React.createElement(RowFixed, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Plus, {\n      size: \"16\",\n      color: theme.text2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(RowBetween, {\n      align: \"flex-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Text, {\n      fontSize: 24,\n      fontWeight: 500,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 11\n      }\n    }, (_parsedAmounts$Field$11 = parsedAmounts[Field.CURRENCY_B]) === null || _parsedAmounts$Field$11 === void 0 ? void 0 : _parsedAmounts$Field$11.toSignificant(6)), /*#__PURE__*/React.createElement(RowFixed, {\n      gap: \"4px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 11\n      }\n    }, chainId && /*#__PURE__*/React.createElement(CurrencyLogo, {\n      currency: currencyB,\n      size: 24,\n      chainId: chainId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Text, {\n      fontSize: 24,\n      fontWeight: 500,\n      style: {\n        marginLeft: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 13\n      }\n    }, currencyB === null || currencyB === void 0 ? void 0 : currencyB.symbol))), /*#__PURE__*/React.createElement(TYPE.italic, {\n      fontSize: 12,\n      color: theme.text2,\n      textAlign: \"left\",\n      padding: '12px 0 0 0',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 9\n      }\n    }, `Output is estimated. If the price changes by more than ${allowedSlippage / 100}% your transaction will revert.`));\n  }\n\n  function modalBottom() {\n    var _parsedAmounts$Field$12;\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(RowBetween, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Text, {\n      color: theme.text2,\n      fontWeight: 500,\n      fontSize: 16,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 11\n      }\n    }, 'PGL ' + (currencyA === null || currencyA === void 0 ? void 0 : currencyA.symbol) + '/' + (currencyB === null || currencyB === void 0 ? void 0 : currencyB.symbol), \" Burned\"), /*#__PURE__*/React.createElement(RowFixed, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(DoubleCurrencyLogo, {\n      currency0: currencyA,\n      currency1: currencyB,\n      margin: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Text, {\n      fontWeight: 500,\n      fontSize: 16,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 13\n      }\n    }, (_parsedAmounts$Field$12 = parsedAmounts[Field.LIQUIDITY]) === null || _parsedAmounts$Field$12 === void 0 ? void 0 : _parsedAmounts$Field$12.toSignificant(6)))), pair && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(RowBetween, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Text, {\n      color: theme.text2,\n      fontWeight: 500,\n      fontSize: 16,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 15\n      }\n    }, t('removeLiquidity.price')), /*#__PURE__*/React.createElement(Text, {\n      fontWeight: 500,\n      fontSize: 16,\n      color: theme.text1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 15\n      }\n    }, \"1 \", currencyA === null || currencyA === void 0 ? void 0 : currencyA.symbol, \" = \", tokenA ? pair.priceOf(tokenA).toSignificant(6) : '-', \" \", currencyB === null || currencyB === void 0 ? void 0 : currencyB.symbol)), /*#__PURE__*/React.createElement(RowBetween, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Text, {\n      fontWeight: 500,\n      fontSize: 16,\n      color: theme.text1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 15\n      }\n    }, \"1 \", currencyB === null || currencyB === void 0 ? void 0 : currencyB.symbol, \" = \", tokenB ? pair.priceOf(tokenB).toSignificant(6) : '-', \" \", currencyA === null || currencyA === void 0 ? void 0 : currencyA.symbol))), /*#__PURE__*/React.createElement(ButtonPrimary, {\n      disabled: !(approval === ApprovalState.APPROVED || signatureData !== null),\n      onClick: onRemove,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Text, {\n      fontWeight: 500,\n      fontSize: 20,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 11\n      }\n    }, \"Confirm\")));\n  } // TODO: Translate using i18n\n\n\n  const pendingText = `Removing ${(_parsedAmounts$Field$13 = parsedAmounts[Field.CURRENCY_A]) === null || _parsedAmounts$Field$13 === void 0 ? void 0 : _parsedAmounts$Field$13.toSignificant(6)} ${currencyA === null || currencyA === void 0 ? void 0 : currencyA.symbol} and ${(_parsedAmounts$Field$14 = parsedAmounts[Field.CURRENCY_B]) === null || _parsedAmounts$Field$14 === void 0 ? void 0 : _parsedAmounts$Field$14.toSignificant(6)} ${currencyB === null || currencyB === void 0 ? void 0 : currencyB.symbol}`;\n  const liquidityPercentChangeCallback = useCallback(value => {\n    onUserInput(Field.LIQUIDITY_PERCENT, value.toString());\n  }, [onUserInput]);\n  const oneCurrencyIsAVAX = currencyA === CAVAX[chainId] || currencyB === CAVAX[chainId];\n  const oneCurrencyIsWAVAX = Boolean(chainId && (currencyA && currencyEquals(WAVAX[chainId], currencyA) || currencyB && currencyEquals(WAVAX[chainId], currencyB)));\n  const handleSelectCurrencyA = useCallback(currency => {\n    if (currencyIdB && currencyId(currency, chainId) === currencyIdB) {\n      history.push(`/remove/${currencyId(currency, chainId)}/${currencyIdA}`);\n    } else {\n      history.push(`/remove/${currencyId(currency, chainId)}/${currencyIdB}`);\n    }\n  }, [chainId, currencyIdA, currencyIdB, history]);\n  const handleSelectCurrencyB = useCallback(currency => {\n    if (currencyIdA && currencyId(currency, chainId) === currencyIdA) {\n      history.push(`/remove/${currencyIdB}/${currencyId(currency, chainId)}`);\n    } else {\n      history.push(`/remove/${currencyIdA}/${currencyId(currency, chainId)}`);\n    }\n  }, [chainId, currencyIdA, currencyIdB, history]);\n  const handleDismissConfirmation = useCallback(() => {\n    setShowConfirm(false);\n    setSignatureData(null); // important that we clear signature data to avoid bad sigs\n    // if there was a tx hash, we want to clear the input\n\n    if (txHash) {\n      onUserInput(Field.LIQUIDITY_PERCENT, '0');\n    }\n\n    setTxHash('');\n  }, [onUserInput, txHash]);\n  const [innerLiquidityPercentage, setInnerLiquidityPercentage] = useDebouncedChangeHandler(Number.parseInt(parsedAmounts[Field.LIQUIDITY_PERCENT].toFixed(0)), liquidityPercentChangeCallback);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(AppBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 507,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(AddRemoveTabs, {\n    creating: false,\n    adding: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 508,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Wrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 509,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TransactionConfirmationModal, {\n    isOpen: showConfirm,\n    onDismiss: handleDismissConfirmation,\n    attemptingTxn: attemptingTxn,\n    hash: txHash ? txHash : '',\n    content: () => /*#__PURE__*/React.createElement(ConfirmationModalContent, {\n      title: t('removeLiquidity.youWillReceive'),\n      onDismiss: handleDismissConfirmation,\n      topContent: modalHeader,\n      bottomContent: modalBottom,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 15\n      }\n    }),\n    pendingText: pendingText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 510,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(AutoColumn, {\n    gap: \"md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 525,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(LightCard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 526,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AutoColumn, {\n    gap: \"20px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 527,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(RowBetween, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 528,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    fontWeight: 500,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 529,\n      columnNumber: 19\n    }\n  }, t('removeLiquidity.amount')), /*#__PURE__*/React.createElement(ClickableText, {\n    fontWeight: 500,\n    onClick: () => {\n      setShowDetailed(!showDetailed);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 530,\n      columnNumber: 19\n    }\n  }, showDetailed ? t('removeLiquidity.simple') : t('removeLiquidity.detailed'))), /*#__PURE__*/React.createElement(Row, {\n    style: {\n      alignItems: 'flex-end'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 539,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    fontSize: 72,\n    fontWeight: 500,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 540,\n      columnNumber: 19\n    }\n  }, formattedAmounts[Field.LIQUIDITY_PERCENT], \"%\")), !showDetailed && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Slider, {\n    value: innerLiquidityPercentage,\n    onChange: setInnerLiquidityPercentage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 546,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(RowBetween, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 547,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(MaxButton, {\n    onClick: () => onUserInput(Field.LIQUIDITY_PERCENT, '25'),\n    width: \"20%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 548,\n      columnNumber: 23\n    }\n  }, \"25%\"), /*#__PURE__*/React.createElement(MaxButton, {\n    onClick: () => onUserInput(Field.LIQUIDITY_PERCENT, '50'),\n    width: \"20%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 551,\n      columnNumber: 23\n    }\n  }, \"50%\"), /*#__PURE__*/React.createElement(MaxButton, {\n    onClick: () => onUserInput(Field.LIQUIDITY_PERCENT, '75'),\n    width: \"20%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 554,\n      columnNumber: 23\n    }\n  }, \"75%\"), /*#__PURE__*/React.createElement(MaxButton, {\n    onClick: () => onUserInput(Field.LIQUIDITY_PERCENT, '100'),\n    width: \"20%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 557,\n      columnNumber: 23\n    }\n  }, t('currencyInputPanel.max')))))), !showDetailed && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ColumnCenter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 568,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ArrowDown, {\n    size: \"16\",\n    color: theme.text2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 569,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(LightCard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 571,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AutoColumn, {\n    gap: \"10px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 572,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(RowBetween, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 573,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    fontSize: 24,\n    fontWeight: 500,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 574,\n      columnNumber: 23\n    }\n  }, formattedAmounts[Field.CURRENCY_A] || '-'), /*#__PURE__*/React.createElement(RowFixed, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 577,\n      columnNumber: 23\n    }\n  }, chainId && /*#__PURE__*/React.createElement(CurrencyLogo, {\n    currency: currencyA,\n    style: {\n      marginRight: '12px'\n    },\n    chainId: chainId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 579,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(Text, {\n    fontSize: 24,\n    fontWeight: 500,\n    id: \"remove-liquidity-tokena-symbol\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 581,\n      columnNumber: 25\n    }\n  }, currencyA === null || currencyA === void 0 ? void 0 : currencyA.symbol))), /*#__PURE__*/React.createElement(RowBetween, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 586,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    fontSize: 24,\n    fontWeight: 500,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 587,\n      columnNumber: 23\n    }\n  }, formattedAmounts[Field.CURRENCY_B] || '-'), /*#__PURE__*/React.createElement(RowFixed, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 590,\n      columnNumber: 23\n    }\n  }, chainId && /*#__PURE__*/React.createElement(CurrencyLogo, {\n    currency: currencyB,\n    style: {\n      marginRight: '12px'\n    },\n    chainId: chainId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 592,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(Text, {\n    fontSize: 24,\n    fontWeight: 500,\n    id: \"remove-liquidity-tokenb-symbol\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 594,\n      columnNumber: 25\n    }\n  }, currencyB === null || currencyB === void 0 ? void 0 : currencyB.symbol))), chainId && (oneCurrencyIsWAVAX || oneCurrencyIsAVAX) ? /*#__PURE__*/React.createElement(RowBetween, {\n    style: {\n      justifyContent: 'flex-end'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 600,\n      columnNumber: 23\n    }\n  }, oneCurrencyIsAVAX ? /*#__PURE__*/React.createElement(StyledInternalLink, {\n    to: `/remove/${currencyA === CAVAX[chainId] ? WAVAX[chainId].address : currencyIdA}/${currencyB === CAVAX[chainId] ? WAVAX[chainId].address : currencyIdB}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 602,\n      columnNumber: 27\n    }\n  }, t('removeLiquidity.receiveWavax', {\n    symbol: NETWORK_WRAPPED_CURRENCY[chainId]\n  })) : oneCurrencyIsWAVAX ? /*#__PURE__*/React.createElement(StyledInternalLink, {\n    to: `/remove/${currencyA && currencyEquals(currencyA, WAVAX[chainId]) ? 'AVAX' : currencyIdA}/${currencyB && currencyEquals(currencyB, WAVAX[chainId]) ? 'AVAX' : currencyIdB}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 610,\n      columnNumber: 27\n    }\n  }, t('removeLiquidity.receiveAvax', {\n    symbol: NETWORK_CURRENCY[chainId]\n  })) : null) : null))), showDetailed && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CurrencyInputPanel, {\n    value: formattedAmounts[Field.LIQUIDITY],\n    onUserInput: onLiquidityInput,\n    onMax: () => {\n      onUserInput(Field.LIQUIDITY_PERCENT, '100');\n    },\n    showMaxButton: !atMaxAmount,\n    disableCurrencySelect: true,\n    currency: pair === null || pair === void 0 ? void 0 : pair.liquidityToken,\n    pair: pair,\n    id: \"liquidity-amount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 627,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(ColumnCenter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 639,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ArrowDown, {\n    size: \"16\",\n    color: theme.text2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 640,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(CurrencyInputPanel, {\n    hideBalance: true,\n    value: formattedAmounts[Field.CURRENCY_A],\n    onUserInput: onCurrencyAInput,\n    onMax: () => onUserInput(Field.LIQUIDITY_PERCENT, '100'),\n    showMaxButton: !atMaxAmount,\n    currency: currencyA,\n    label: t('removeLiquidity.output'),\n    onCurrencySelect: handleSelectCurrencyA,\n    id: \"remove-liquidity-tokena\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 642,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(ColumnCenter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 653,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Plus, {\n    size: \"16\",\n    color: theme.text2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 654,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(CurrencyInputPanel, {\n    hideBalance: true,\n    value: formattedAmounts[Field.CURRENCY_B],\n    onUserInput: onCurrencyBInput,\n    onMax: () => onUserInput(Field.LIQUIDITY_PERCENT, '100'),\n    showMaxButton: !atMaxAmount,\n    currency: currencyB,\n    label: t('removeLiquidity.output'),\n    onCurrencySelect: handleSelectCurrencyB,\n    id: \"remove-liquidity-tokenb\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 656,\n      columnNumber: 17\n    }\n  })), pair && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: '10px 20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 670,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(RowBetween, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 671,\n      columnNumber: 17\n    }\n  }, t('removeLiquidity.price'), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 673,\n      columnNumber: 19\n    }\n  }, \"1 \", currencyA === null || currencyA === void 0 ? void 0 : currencyA.symbol, \" = \", tokenA ? pair.priceOf(tokenA).toSignificant(6) : '-', \" \", currencyB === null || currencyB === void 0 ? void 0 : currencyB.symbol)), /*#__PURE__*/React.createElement(RowBetween, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 677,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 678,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 679,\n      columnNumber: 19\n    }\n  }, \"1 \", currencyB === null || currencyB === void 0 ? void 0 : currencyB.symbol, \" = \", tokenB ? pair.priceOf(tokenB).toSignificant(6) : '-', \" \", currencyA === null || currencyA === void 0 ? void 0 : currencyA.symbol))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: 'relative'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 685,\n      columnNumber: 13\n    }\n  }, !account ? /*#__PURE__*/React.createElement(ButtonLight, {\n    onClick: toggleWalletModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 687,\n      columnNumber: 17\n    }\n  }, \"Connect Wallet\") : /*#__PURE__*/React.createElement(RowBetween, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 689,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ButtonConfirmed, {\n    onClick: onAttemptToApprove,\n    confirmed: approval === ApprovalState.APPROVED || signatureData !== null,\n    disabled: approval !== ApprovalState.NOT_APPROVED || signatureData !== null,\n    mr: \"0.5rem\",\n    fontWeight: 500,\n    fontSize: 16,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 690,\n      columnNumber: 19\n    }\n  }, approval === ApprovalState.PENDING ? /*#__PURE__*/React.createElement(Dots, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 699,\n      columnNumber: 23\n    }\n  }, t('removeLiquidity.approving')) : approval === ApprovalState.APPROVED || signatureData !== null ? t('removeLiquidity.approved') : t('removeLiquidity.approve')), /*#__PURE__*/React.createElement(ButtonError, {\n    onClick: () => {\n      setShowConfirm(true);\n    },\n    disabled: !isValid || signatureData === null && approval !== ApprovalState.APPROVED,\n    error: !isValid && !!parsedAmounts[Field.CURRENCY_A] && !!parsedAmounts[Field.CURRENCY_B],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 706,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    fontSize: 16,\n    fontWeight: 500,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 713,\n      columnNumber: 21\n    }\n  }, error || t('removeLiquidity.remove')))))))), pair ? /*#__PURE__*/React.createElement(AutoColumn, {\n    style: {\n      minWidth: '20rem',\n      width: '100%',\n      maxWidth: '400px',\n      marginTop: '1rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 725,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MinimalPositionCard, {\n    showUnwrapped: oneCurrencyIsWAVAX,\n    pair: pair,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 726,\n      columnNumber: 11\n    }\n  })) : null);\n}","map":{"version":3,"sources":["/Users/safahi/Documents/GitHub/interface/hollisDEX/src/pages/RemoveLiquidity/index.tsx"],"names":["splitSignature","currencyEquals","CAVAX","Percent","WAVAX","ChainId","React","useCallback","useContext","useMemo","useState","ArrowDown","Plus","ReactGA","Text","ThemeContext","ButtonPrimary","ButtonLight","ButtonError","ButtonConfirmed","LightCard","AutoColumn","ColumnCenter","TransactionConfirmationModal","ConfirmationModalContent","CurrencyInputPanel","DoubleCurrencyLogo","AddRemoveTabs","MinimalPositionCard","Row","RowBetween","RowFixed","Slider","CurrencyLogo","ROUTER_ADDRESS","useActiveWeb3React","useChainId","useCurrency","usePairContract","useTransactionDeadline","useTransactionAdder","StyledInternalLink","TYPE","calculateGasMargin","calculateSlippageAmount","getRouterContract","currencyId","useDebouncedChangeHandler","wrappedCurrency","AppBody","ClickableText","MaxButton","Wrapper","useApproveCallback","ApprovalState","Dots","useBurnActionHandlers","useDerivedBurnInfo","useBurnState","Field","useWalletModalToggle","useUserSlippageTolerance","BigNumber","useTranslation","RemoveLiquidity","history","match","params","currencyIdA","currencyIdB","currencyA","currencyB","undefined","account","library","chainId","tokenA","tokenB","theme","toggleWalletModal","independentField","typedValue","pair","parsedAmounts","error","onUserInput","_onUserInput","isValid","showConfirm","setShowConfirm","showDetailed","setShowDetailed","attemptingTxn","setAttemptingTxn","txHash","setTxHash","deadline","allowedSlippage","t","formattedAmounts","LIQUIDITY_PERCENT","equalTo","lessThan","toFixed","LIQUIDITY","toSignificant","CURRENCY_A","CURRENCY_B","atMaxAmount","pairContract","liquidityToken","address","signatureData","setSignatureData","approval","approveCallback","isArgentWallet","onAttemptToApprove","Error","liquidityAmount","nonce","nonces","EIP712Domain","name","type","domain","version","verifyingContract","Permit","message","owner","spender","value","raw","toString","toHexString","toNumber","data","JSON","stringify","types","primaryType","send","then","signature","v","r","s","catch","code","field","onLiquidityInput","onCurrencyAInput","onCurrencyBInput","addTransaction","onRemove","currencyAmountA","currencyAmountB","router","amountsMin","currencyBIsETH","oneCurrencyIsETH","methodNames","args","APPROVED","safeGasEstimates","Promise","all","map","methodName","estimateGas","console","indexOfSuccessfulEstimation","findIndex","safeGasEstimate","isBigNumber","gasLimit","response","summary","symbol","hash","event","category","action","label","join","NETWORK_CURRENCY","FUJI","AVALANCHE","WAGMI","NETWORK_WRAPPED_CURRENCY","modalHeader","marginTop","marginLeft","text2","modalBottom","text1","priceOf","pendingText","liquidityPercentChangeCallback","oneCurrencyIsAVAX","oneCurrencyIsWAVAX","Boolean","handleSelectCurrencyA","currency","push","handleSelectCurrencyB","handleDismissConfirmation","innerLiquidityPercentage","setInnerLiquidityPercentage","Number","parseInt","alignItems","marginRight","justifyContent","padding","position","NOT_APPROVED","PENDING","minWidth","width","maxWidth"],"mappings":"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","sourcesContent":["import { splitSignature } from '@ethersproject/bytes'\nimport { Contract } from '@ethersproject/contracts'\nimport { TransactionResponse } from '@ethersproject/providers'\nimport { Currency, currencyEquals, CAVAX, Percent, WAVAX, ChainId } from '@pangolindex/sdk'\nimport React, { useCallback, useContext, useMemo, useState } from 'react'\nimport { ArrowDown, Plus } from 'react-feather'\nimport ReactGA from 'react-ga'\nimport { RouteComponentProps } from 'react-router'\nimport { Text } from 'rebass'\nimport { ThemeContext } from 'styled-components'\nimport { ButtonPrimary, ButtonLight, ButtonError, ButtonConfirmed } from '../../components/Button'\nimport { LightCard } from '../../components/Card'\nimport { AutoColumn, ColumnCenter } from '../../components/Column'\nimport TransactionConfirmationModal, { ConfirmationModalContent } from '../../components/TransactionConfirmationModal'\nimport CurrencyInputPanel from '../../components/CurrencyInputPanel'\nimport DoubleCurrencyLogo from '../../components/DoubleLogo'\nimport { AddRemoveTabs } from '../../components/NavigationTabs'\nimport { MinimalPositionCard } from '../../components/PositionCard'\nimport Row, { RowBetween, RowFixed } from '../../components/Row'\n\nimport Slider from '../../components/Slider'\nimport CurrencyLogo from '../../components/CurrencyLogo'\nimport { ROUTER_ADDRESS } from '../../constants'\nimport { useActiveWeb3React, useChainId } from '../../hooks'\nimport { useCurrency } from '../../hooks/Tokens'\nimport { usePairContract } from '../../hooks/useContract'\nimport useTransactionDeadline from '../../hooks/useTransactionDeadline'\n\nimport { useTransactionAdder } from '../../state/transactions/hooks'\nimport { StyledInternalLink, TYPE } from '../../theme'\nimport { calculateGasMargin, calculateSlippageAmount, getRouterContract } from '../../utils'\nimport { currencyId } from '../../utils/currencyId'\nimport useDebouncedChangeHandler from '../../utils/useDebouncedChangeHandler'\nimport { wrappedCurrency } from '../../utils/wrappedCurrency'\nimport AppBody from '../AppBody'\nimport { ClickableText, MaxButton, Wrapper } from '../Pool/styleds'\nimport { useApproveCallback, ApprovalState } from '../../hooks/useApproveCallback'\nimport { Dots } from '../../components/swap/styleds'\nimport { useBurnActionHandlers } from '../../state/burn/hooks'\nimport { useDerivedBurnInfo, useBurnState } from '../../state/burn/hooks'\nimport { Field } from '../../state/burn/actions'\nimport { useWalletModalToggle } from '../../state/application/hooks'\nimport { useUserSlippageTolerance } from '../../state/user/hooks'\nimport { BigNumber } from '@ethersproject/bignumber'\nimport { useTranslation } from 'react-i18next'\n\nexport default function RemoveLiquidity({\n  history,\n  match: {\n    params: { currencyIdA, currencyIdB }\n  }\n}: RouteComponentProps<{ currencyIdA: string; currencyIdB: string }>) {\n  const [currencyA, currencyB] = [useCurrency(currencyIdA) ?? undefined, useCurrency(currencyIdB) ?? undefined]\n  const { account, library } = useActiveWeb3React()\n  const chainId = useChainId()\n\n  const [tokenA, tokenB] = useMemo(() => [wrappedCurrency(currencyA, chainId), wrappedCurrency(currencyB, chainId)], [\n    currencyA,\n    currencyB,\n    chainId\n  ])\n\n  const theme = useContext(ThemeContext)\n\n  // toggle wallet when disconnected\n  const toggleWalletModal = useWalletModalToggle()\n\n  // burn state\n  const { independentField, typedValue } = useBurnState()\n  const { pair, parsedAmounts, error } = useDerivedBurnInfo(currencyA ?? undefined, currencyB ?? undefined)\n  const { onUserInput: _onUserInput } = useBurnActionHandlers()\n  const isValid = !error\n\n  // modal and loading\n  const [showConfirm, setShowConfirm] = useState<boolean>(false)\n  const [showDetailed, setShowDetailed] = useState<boolean>(false)\n  const [attemptingTxn, setAttemptingTxn] = useState(false) // clicked confirm\n\n  // txn values\n  const [txHash, setTxHash] = useState<string>('')\n  const deadline = useTransactionDeadline()\n  const [allowedSlippage] = useUserSlippageTolerance()\n\n  const { t } = useTranslation()\n\n  const formattedAmounts = {\n    [Field.LIQUIDITY_PERCENT]: parsedAmounts[Field.LIQUIDITY_PERCENT].equalTo('0')\n      ? '0'\n      : parsedAmounts[Field.LIQUIDITY_PERCENT].lessThan(new Percent('1', '100'))\n      ? '<1'\n      : parsedAmounts[Field.LIQUIDITY_PERCENT].toFixed(0),\n    [Field.LIQUIDITY]:\n      independentField === Field.LIQUIDITY ? typedValue : parsedAmounts[Field.LIQUIDITY]?.toSignificant(6) ?? '',\n    [Field.CURRENCY_A]:\n      independentField === Field.CURRENCY_A ? typedValue : parsedAmounts[Field.CURRENCY_A]?.toSignificant(6) ?? '',\n    [Field.CURRENCY_B]:\n      independentField === Field.CURRENCY_B ? typedValue : parsedAmounts[Field.CURRENCY_B]?.toSignificant(6) ?? ''\n  }\n\n  const atMaxAmount = parsedAmounts[Field.LIQUIDITY_PERCENT]?.equalTo(new Percent('1'))\n\n  // pair contract\n  const pairContract: Contract | null = usePairContract(pair?.liquidityToken?.address)\n\n  // allowance handling\n  const [signatureData, setSignatureData] = useState<{ v: number; r: string; s: string; deadline: number } | null>(null)\n  const [approval, approveCallback] = useApproveCallback(\n    chainId,\n    parsedAmounts[Field.LIQUIDITY],\n    ROUTER_ADDRESS[chainId]\n  )\n\n  const isArgentWallet = false\n\n  async function onAttemptToApprove() {\n    // TODO: Translate using i18n\n    if (!pairContract || !pair || !library || !deadline || !chainId || !account) throw new Error('missing dependencies')\n    const liquidityAmount = parsedAmounts[Field.LIQUIDITY]\n    if (!liquidityAmount) throw new Error('missing liquidity amount')\n\n    if (isArgentWallet) {\n      return approveCallback()\n    }\n\n    // try to gather a signature for permission\n    const nonce = await pairContract.nonces(account)\n\n    const EIP712Domain = [\n      { name: 'name', type: 'string' },\n      { name: 'version', type: 'string' },\n      { name: 'chainId', type: 'uint256' },\n      { name: 'verifyingContract', type: 'address' }\n    ]\n    const domain = {\n      name: 'Pangolin Liquidity',\n      version: '1',\n      chainId: chainId,\n      verifyingContract: pair.liquidityToken.address\n    }\n    const Permit = [\n      { name: 'owner', type: 'address' },\n      { name: 'spender', type: 'address' },\n      { name: 'value', type: 'uint256' },\n      { name: 'nonce', type: 'uint256' },\n      { name: 'deadline', type: 'uint256' }\n    ]\n    const message = {\n      owner: account,\n      spender: ROUTER_ADDRESS[chainId],\n      value: liquidityAmount.raw.toString(),\n      nonce: nonce.toHexString(),\n      deadline: deadline.toNumber()\n    }\n    const data = JSON.stringify({\n      types: {\n        EIP712Domain,\n        Permit\n      },\n      domain,\n      primaryType: 'Permit',\n      message\n    })\n\n    library\n      .send('eth_signTypedData_v4', [account, data])\n      .then(splitSignature)\n      .then(signature => {\n        setSignatureData({\n          v: signature.v,\n          r: signature.r,\n          s: signature.s,\n          deadline: deadline.toNumber()\n        })\n      })\n      .catch(error => {\n        // for all errors other than 4001 (EIP-1193 user rejected request), fall back to manual approve\n        if (error?.code !== 4001) {\n          approveCallback()\n        }\n      })\n  }\n\n  // wrapped onUserInput to clear signatures\n  const onUserInput = useCallback(\n    (field: Field, typedValue: string) => {\n      setSignatureData(null)\n      return _onUserInput(field, typedValue)\n    },\n    [_onUserInput]\n  )\n\n  const onLiquidityInput = useCallback((typedValue: string): void => onUserInput(Field.LIQUIDITY, typedValue), [\n    onUserInput\n  ])\n  const onCurrencyAInput = useCallback((typedValue: string): void => onUserInput(Field.CURRENCY_A, typedValue), [\n    onUserInput\n  ])\n  const onCurrencyBInput = useCallback((typedValue: string): void => onUserInput(Field.CURRENCY_B, typedValue), [\n    onUserInput\n  ])\n\n  // tx sending\n  const addTransaction = useTransactionAdder()\n  async function onRemove() {\n    if (!chainId || !library || !account || !deadline) throw new Error('missing dependencies')\n    const { [Field.CURRENCY_A]: currencyAmountA, [Field.CURRENCY_B]: currencyAmountB } = parsedAmounts\n    if (!currencyAmountA || !currencyAmountB) {\n      // TODO: Translate using i18n\n      throw new Error('missing currency amounts')\n    }\n    const router = getRouterContract(chainId, library, account)\n\n    const amountsMin = {\n      [Field.CURRENCY_A]: calculateSlippageAmount(currencyAmountA, allowedSlippage)[0],\n      [Field.CURRENCY_B]: calculateSlippageAmount(currencyAmountB, allowedSlippage)[0]\n    }\n\n    // TODO: Translate using i18n\n    if (!currencyA || !currencyB) throw new Error('missing tokens')\n    const liquidityAmount = parsedAmounts[Field.LIQUIDITY]\n    if (!liquidityAmount) throw new Error('missing liquidity amount')\n\n    const currencyBIsETH = currencyB === CAVAX[chainId]\n    const oneCurrencyIsETH = currencyA === CAVAX[chainId] || currencyBIsETH\n\n    // TODO: Translate using i18n\n    if (!tokenA || !tokenB) throw new Error('could not wrap')\n\n    let methodNames: string[], args: Array<string | string[] | number | boolean>\n    // we have approval, use normal remove liquidity\n    if (approval === ApprovalState.APPROVED) {\n      // removeLiquidityAVAX\n      if (oneCurrencyIsETH) {\n        methodNames = ['removeLiquidityAVAX', 'removeLiquidityAVAXSupportingFeeOnTransferTokens']\n        args = [\n          currencyBIsETH ? tokenA.address : tokenB.address,\n          liquidityAmount.raw.toString(),\n          amountsMin[currencyBIsETH ? Field.CURRENCY_A : Field.CURRENCY_B].toString(),\n          amountsMin[currencyBIsETH ? Field.CURRENCY_B : Field.CURRENCY_A].toString(),\n          account,\n          deadline.toHexString()\n        ]\n      }\n      // removeLiquidity\n      else {\n        methodNames = ['removeLiquidity']\n        args = [\n          tokenA.address,\n          tokenB.address,\n          liquidityAmount.raw.toString(),\n          amountsMin[Field.CURRENCY_A].toString(),\n          amountsMin[Field.CURRENCY_B].toString(),\n          account,\n          deadline.toHexString()\n        ]\n      }\n    }\n    // we have a signataure, use permit versions of remove liquidity\n    else if (signatureData !== null) {\n      // removeLiquidityAVAXWithPermit\n      if (oneCurrencyIsETH) {\n        methodNames = ['removeLiquidityAVAXWithPermit', 'removeLiquidityAVAXWithPermitSupportingFeeOnTransferTokens']\n        args = [\n          currencyBIsETH ? tokenA.address : tokenB.address,\n          liquidityAmount.raw.toString(),\n          amountsMin[currencyBIsETH ? Field.CURRENCY_A : Field.CURRENCY_B].toString(),\n          amountsMin[currencyBIsETH ? Field.CURRENCY_B : Field.CURRENCY_A].toString(),\n          account,\n          signatureData.deadline,\n          false,\n          signatureData.v,\n          signatureData.r,\n          signatureData.s\n        ]\n      }\n      // removeLiquidityAVAXWithPermit\n      else {\n        methodNames = ['removeLiquidityWithPermit']\n        args = [\n          tokenA.address,\n          tokenB.address,\n          liquidityAmount.raw.toString(),\n          amountsMin[Field.CURRENCY_A].toString(),\n          amountsMin[Field.CURRENCY_B].toString(),\n          account,\n          signatureData.deadline,\n          false,\n          signatureData.v,\n          signatureData.r,\n          signatureData.s\n        ]\n      }\n    } else {\n      // TODO: Translate using i18n\n      throw new Error('Attempting to confirm without approval or a signature. Please contact support.')\n    }\n\n    const safeGasEstimates: (BigNumber | undefined)[] = await Promise.all(\n      methodNames.map(methodName =>\n        router.estimateGas[methodName](...args)\n          .then(calculateGasMargin)\n          .catch(error => {\n            console.error(`estimateGas failed`, methodName, args, error)\n            return undefined\n          })\n      )\n    )\n\n    const indexOfSuccessfulEstimation = safeGasEstimates.findIndex(safeGasEstimate =>\n      BigNumber.isBigNumber(safeGasEstimate)\n    )\n\n    // all estimations failed...\n    if (indexOfSuccessfulEstimation === -1) {\n      console.error('This transaction would fail. Please contact support.')\n    } else {\n      const methodName = methodNames[indexOfSuccessfulEstimation]\n      const safeGasEstimate = safeGasEstimates[indexOfSuccessfulEstimation]\n\n      setAttemptingTxn(true)\n      await router[methodName](...args, {\n        gasLimit: safeGasEstimate\n      })\n        .then((response: TransactionResponse) => {\n          setAttemptingTxn(false)\n\n          // TODO: Translate using i18n\n          addTransaction(response, {\n            summary:\n              t('removeLiquidity.remove') +\n              ' ' +\n              parsedAmounts[Field.CURRENCY_A]?.toSignificant(3) +\n              ' ' +\n              currencyA?.symbol +\n              ' and ' +\n              parsedAmounts[Field.CURRENCY_B]?.toSignificant(3) +\n              ' ' +\n              currencyB?.symbol\n          })\n\n          setTxHash(response.hash)\n\n          ReactGA.event({\n            category: 'Liquidity',\n            action: 'Remove',\n            label: [currencyA?.symbol, currencyB?.symbol].join('/')\n          })\n        })\n        .catch((error: Error) => {\n          setAttemptingTxn(false)\n          // we only care if the error is something _other_ than the user rejected the tx\n          console.error(error)\n        })\n    }\n  }\n\n  const NETWORK_CURRENCY: { [chainId in ChainId]?: string } = {\n    [ChainId.FUJI]: 'AVAX',\n    [ChainId.AVALANCHE]: 'AVAX',\n    [ChainId.WAGMI]: 'WGM'\n  }\n\n  const NETWORK_WRAPPED_CURRENCY: { [chainId in ChainId]?: string } = {\n    [ChainId.FUJI]: 'WAVAX',\n    [ChainId.AVALANCHE]: 'WAVAX',\n    [ChainId.WAGMI]: 'wWAGMI'\n  }\n\n  function modalHeader() {\n    return (\n      <AutoColumn gap={'md'} style={{ marginTop: '20px' }}>\n        <RowBetween align=\"flex-end\">\n          <Text fontSize={24} fontWeight={500}>\n            {parsedAmounts[Field.CURRENCY_A]?.toSignificant(6)}\n          </Text>\n          <RowFixed gap=\"4px\">\n            {chainId && <CurrencyLogo currency={currencyA} size={24} chainId={chainId} />}\n            <Text fontSize={24} fontWeight={500} style={{ marginLeft: '10px' }}>\n              {currencyA?.symbol}\n            </Text>\n          </RowFixed>\n        </RowBetween>\n        <RowFixed>\n          <Plus size=\"16\" color={theme.text2} />\n        </RowFixed>\n        <RowBetween align=\"flex-end\">\n          <Text fontSize={24} fontWeight={500}>\n            {parsedAmounts[Field.CURRENCY_B]?.toSignificant(6)}\n          </Text>\n          <RowFixed gap=\"4px\">\n            {chainId && <CurrencyLogo currency={currencyB} size={24} chainId={chainId} />}\n            <Text fontSize={24} fontWeight={500} style={{ marginLeft: '10px' }}>\n              {currencyB?.symbol}\n            </Text>\n          </RowFixed>\n        </RowBetween>\n\n        <TYPE.italic fontSize={12} color={theme.text2} textAlign=\"left\" padding={'12px 0 0 0'}>\n          {/*TODO: Translate using i18n*/}\n          {`Output is estimated. If the price changes by more than ${allowedSlippage /\n            100}% your transaction will revert.`}\n        </TYPE.italic>\n      </AutoColumn>\n    )\n  }\n\n  function modalBottom() {\n    return (\n      <>\n        <RowBetween>\n          <Text color={theme.text2} fontWeight={500} fontSize={16}>\n            {/*TODO: Translate using i18n*/}\n            {'PGL ' + currencyA?.symbol + '/' + currencyB?.symbol} Burned\n          </Text>\n          <RowFixed>\n            <DoubleCurrencyLogo currency0={currencyA} currency1={currencyB} margin={true} />\n            <Text fontWeight={500} fontSize={16}>\n              {parsedAmounts[Field.LIQUIDITY]?.toSignificant(6)}\n            </Text>\n          </RowFixed>\n        </RowBetween>\n        {pair && (\n          <>\n            <RowBetween>\n              <Text color={theme.text2} fontWeight={500} fontSize={16}>\n                {t('removeLiquidity.price')}\n              </Text>\n              <Text fontWeight={500} fontSize={16} color={theme.text1}>\n                1 {currencyA?.symbol} = {tokenA ? pair.priceOf(tokenA).toSignificant(6) : '-'} {currencyB?.symbol}\n              </Text>\n            </RowBetween>\n            <RowBetween>\n              <div />\n              <Text fontWeight={500} fontSize={16} color={theme.text1}>\n                1 {currencyB?.symbol} = {tokenB ? pair.priceOf(tokenB).toSignificant(6) : '-'} {currencyA?.symbol}\n              </Text>\n            </RowBetween>\n          </>\n        )}\n        <ButtonPrimary disabled={!(approval === ApprovalState.APPROVED || signatureData !== null)} onClick={onRemove}>\n          <Text fontWeight={500} fontSize={20}>\n            {/*TODO: Translate using i18n*/}\n            Confirm\n          </Text>\n        </ButtonPrimary>\n      </>\n    )\n  }\n\n  // TODO: Translate using i18n\n  const pendingText = `Removing ${parsedAmounts[Field.CURRENCY_A]?.toSignificant(6)} ${\n    currencyA?.symbol\n  } and ${parsedAmounts[Field.CURRENCY_B]?.toSignificant(6)} ${currencyB?.symbol}`\n\n  const liquidityPercentChangeCallback = useCallback(\n    (value: number) => {\n      onUserInput(Field.LIQUIDITY_PERCENT, value.toString())\n    },\n    [onUserInput]\n  )\n\n  const oneCurrencyIsAVAX = currencyA === CAVAX[chainId] || currencyB === CAVAX[chainId]\n  const oneCurrencyIsWAVAX = Boolean(\n    chainId &&\n      ((currencyA && currencyEquals(WAVAX[chainId], currencyA)) ||\n        (currencyB && currencyEquals(WAVAX[chainId], currencyB)))\n  )\n\n  const handleSelectCurrencyA = useCallback(\n    (currency: Currency) => {\n      if (currencyIdB && currencyId(currency, chainId) === currencyIdB) {\n        history.push(`/remove/${currencyId(currency, chainId)}/${currencyIdA}`)\n      } else {\n        history.push(`/remove/${currencyId(currency, chainId)}/${currencyIdB}`)\n      }\n    },\n    [chainId, currencyIdA, currencyIdB, history]\n  )\n  const handleSelectCurrencyB = useCallback(\n    (currency: Currency) => {\n      if (currencyIdA && currencyId(currency, chainId) === currencyIdA) {\n        history.push(`/remove/${currencyIdB}/${currencyId(currency, chainId)}`)\n      } else {\n        history.push(`/remove/${currencyIdA}/${currencyId(currency, chainId)}`)\n      }\n    },\n    [chainId, currencyIdA, currencyIdB, history]\n  )\n\n  const handleDismissConfirmation = useCallback(() => {\n    setShowConfirm(false)\n    setSignatureData(null) // important that we clear signature data to avoid bad sigs\n    // if there was a tx hash, we want to clear the input\n    if (txHash) {\n      onUserInput(Field.LIQUIDITY_PERCENT, '0')\n    }\n    setTxHash('')\n  }, [onUserInput, txHash])\n\n  const [innerLiquidityPercentage, setInnerLiquidityPercentage] = useDebouncedChangeHandler(\n    Number.parseInt(parsedAmounts[Field.LIQUIDITY_PERCENT].toFixed(0)),\n    liquidityPercentChangeCallback\n  )\n\n  return (\n    <>\n      <AppBody>\n        <AddRemoveTabs creating={false} adding={false} />\n        <Wrapper>\n          <TransactionConfirmationModal\n            isOpen={showConfirm}\n            onDismiss={handleDismissConfirmation}\n            attemptingTxn={attemptingTxn}\n            hash={txHash ? txHash : ''}\n            content={() => (\n              <ConfirmationModalContent\n                title={t('removeLiquidity.youWillReceive')}\n                onDismiss={handleDismissConfirmation}\n                topContent={modalHeader}\n                bottomContent={modalBottom}\n              />\n            )}\n            pendingText={pendingText}\n          />\n          <AutoColumn gap=\"md\">\n            <LightCard>\n              <AutoColumn gap=\"20px\">\n                <RowBetween>\n                  <Text fontWeight={500}>{t('removeLiquidity.amount')}</Text>\n                  <ClickableText\n                    fontWeight={500}\n                    onClick={() => {\n                      setShowDetailed(!showDetailed)\n                    }}\n                  >\n                    {showDetailed ? t('removeLiquidity.simple') : t('removeLiquidity.detailed')}\n                  </ClickableText>\n                </RowBetween>\n                <Row style={{ alignItems: 'flex-end' }}>\n                  <Text fontSize={72} fontWeight={500}>\n                    {formattedAmounts[Field.LIQUIDITY_PERCENT]}%\n                  </Text>\n                </Row>\n                {!showDetailed && (\n                  <>\n                    <Slider value={innerLiquidityPercentage} onChange={setInnerLiquidityPercentage} />\n                    <RowBetween>\n                      <MaxButton onClick={() => onUserInput(Field.LIQUIDITY_PERCENT, '25')} width=\"20%\">\n                        25%\n                      </MaxButton>\n                      <MaxButton onClick={() => onUserInput(Field.LIQUIDITY_PERCENT, '50')} width=\"20%\">\n                        50%\n                      </MaxButton>\n                      <MaxButton onClick={() => onUserInput(Field.LIQUIDITY_PERCENT, '75')} width=\"20%\">\n                        75%\n                      </MaxButton>\n                      <MaxButton onClick={() => onUserInput(Field.LIQUIDITY_PERCENT, '100')} width=\"20%\">\n                        {/*TODO: Translate using i18n entry from removeLiquidity object*/}\n                        {t('currencyInputPanel.max')}\n                      </MaxButton>\n                    </RowBetween>\n                  </>\n                )}\n              </AutoColumn>\n            </LightCard>\n            {!showDetailed && (\n              <>\n                <ColumnCenter>\n                  <ArrowDown size=\"16\" color={theme.text2} />\n                </ColumnCenter>\n                <LightCard>\n                  <AutoColumn gap=\"10px\">\n                    <RowBetween>\n                      <Text fontSize={24} fontWeight={500}>\n                        {formattedAmounts[Field.CURRENCY_A] || '-'}\n                      </Text>\n                      <RowFixed>\n                        {chainId && (\n                          <CurrencyLogo currency={currencyA} style={{ marginRight: '12px' }} chainId={chainId} />\n                        )}\n                        <Text fontSize={24} fontWeight={500} id=\"remove-liquidity-tokena-symbol\">\n                          {currencyA?.symbol}\n                        </Text>\n                      </RowFixed>\n                    </RowBetween>\n                    <RowBetween>\n                      <Text fontSize={24} fontWeight={500}>\n                        {formattedAmounts[Field.CURRENCY_B] || '-'}\n                      </Text>\n                      <RowFixed>\n                        {chainId && (\n                          <CurrencyLogo currency={currencyB} style={{ marginRight: '12px' }} chainId={chainId} />\n                        )}\n                        <Text fontSize={24} fontWeight={500} id=\"remove-liquidity-tokenb-symbol\">\n                          {currencyB?.symbol}\n                        </Text>\n                      </RowFixed>\n                    </RowBetween>\n                    {chainId && (oneCurrencyIsWAVAX || oneCurrencyIsAVAX) ? (\n                      <RowBetween style={{ justifyContent: 'flex-end' }}>\n                        {oneCurrencyIsAVAX ? (\n                          <StyledInternalLink\n                            to={`/remove/${currencyA === CAVAX[chainId] ? WAVAX[chainId].address : currencyIdA}/${\n                              currencyB === CAVAX[chainId] ? WAVAX[chainId].address : currencyIdB\n                            }`}\n                          >\n                            {t('removeLiquidity.receiveWavax', { symbol: NETWORK_WRAPPED_CURRENCY[chainId] })}\n                          </StyledInternalLink>\n                        ) : oneCurrencyIsWAVAX ? (\n                          <StyledInternalLink\n                            to={`/remove/${\n                              currencyA && currencyEquals(currencyA, WAVAX[chainId]) ? 'AVAX' : currencyIdA\n                            }/${currencyB && currencyEquals(currencyB, WAVAX[chainId]) ? 'AVAX' : currencyIdB}`}\n                          >\n                            {t('removeLiquidity.receiveAvax', { symbol: NETWORK_CURRENCY[chainId] })}\n                          </StyledInternalLink>\n                        ) : null}\n                      </RowBetween>\n                    ) : null}\n                  </AutoColumn>\n                </LightCard>\n              </>\n            )}\n\n            {showDetailed && (\n              <>\n                <CurrencyInputPanel\n                  value={formattedAmounts[Field.LIQUIDITY]}\n                  onUserInput={onLiquidityInput}\n                  onMax={() => {\n                    onUserInput(Field.LIQUIDITY_PERCENT, '100')\n                  }}\n                  showMaxButton={!atMaxAmount}\n                  disableCurrencySelect\n                  currency={pair?.liquidityToken}\n                  pair={pair}\n                  id=\"liquidity-amount\"\n                />\n                <ColumnCenter>\n                  <ArrowDown size=\"16\" color={theme.text2} />\n                </ColumnCenter>\n                <CurrencyInputPanel\n                  hideBalance={true}\n                  value={formattedAmounts[Field.CURRENCY_A]}\n                  onUserInput={onCurrencyAInput}\n                  onMax={() => onUserInput(Field.LIQUIDITY_PERCENT, '100')}\n                  showMaxButton={!atMaxAmount}\n                  currency={currencyA}\n                  label={t('removeLiquidity.output')}\n                  onCurrencySelect={handleSelectCurrencyA}\n                  id=\"remove-liquidity-tokena\"\n                />\n                <ColumnCenter>\n                  <Plus size=\"16\" color={theme.text2} />\n                </ColumnCenter>\n                <CurrencyInputPanel\n                  hideBalance={true}\n                  value={formattedAmounts[Field.CURRENCY_B]}\n                  onUserInput={onCurrencyBInput}\n                  onMax={() => onUserInput(Field.LIQUIDITY_PERCENT, '100')}\n                  showMaxButton={!atMaxAmount}\n                  currency={currencyB}\n                  label={t('removeLiquidity.output')}\n                  onCurrencySelect={handleSelectCurrencyB}\n                  id=\"remove-liquidity-tokenb\"\n                />\n              </>\n            )}\n            {pair && (\n              <div style={{ padding: '10px 20px' }}>\n                <RowBetween>\n                  {t('removeLiquidity.price')}\n                  <div>\n                    1 {currencyA?.symbol} = {tokenA ? pair.priceOf(tokenA).toSignificant(6) : '-'} {currencyB?.symbol}\n                  </div>\n                </RowBetween>\n                <RowBetween>\n                  <div />\n                  <div>\n                    1 {currencyB?.symbol} = {tokenB ? pair.priceOf(tokenB).toSignificant(6) : '-'} {currencyA?.symbol}\n                  </div>\n                </RowBetween>\n              </div>\n            )}\n            <div style={{ position: 'relative' }}>\n              {!account ? (\n                <ButtonLight onClick={toggleWalletModal}>Connect Wallet</ButtonLight>\n              ) : (\n                <RowBetween>\n                  <ButtonConfirmed\n                    onClick={onAttemptToApprove}\n                    confirmed={approval === ApprovalState.APPROVED || signatureData !== null}\n                    disabled={approval !== ApprovalState.NOT_APPROVED || signatureData !== null}\n                    mr=\"0.5rem\"\n                    fontWeight={500}\n                    fontSize={16}\n                  >\n                    {approval === ApprovalState.PENDING ? (\n                      <Dots>{t('removeLiquidity.approving')}</Dots>\n                    ) : approval === ApprovalState.APPROVED || signatureData !== null ? (\n                      t('removeLiquidity.approved')\n                    ) : (\n                      t('removeLiquidity.approve')\n                    )}\n                  </ButtonConfirmed>\n                  <ButtonError\n                    onClick={() => {\n                      setShowConfirm(true)\n                    }}\n                    disabled={!isValid || (signatureData === null && approval !== ApprovalState.APPROVED)}\n                    error={!isValid && !!parsedAmounts[Field.CURRENCY_A] && !!parsedAmounts[Field.CURRENCY_B]}\n                  >\n                    <Text fontSize={16} fontWeight={500}>\n                      {error || t('removeLiquidity.remove')}\n                    </Text>\n                  </ButtonError>\n                </RowBetween>\n              )}\n            </div>\n          </AutoColumn>\n        </Wrapper>\n      </AppBody>\n\n      {pair ? (\n        <AutoColumn style={{ minWidth: '20rem', width: '100%', maxWidth: '400px', marginTop: '1rem' }}>\n          <MinimalPositionCard showUnwrapped={oneCurrencyIsWAVAX} pair={pair} />\n        </AutoColumn>\n      ) : null}\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}