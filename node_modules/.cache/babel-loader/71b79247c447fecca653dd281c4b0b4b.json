{"ast":null,"code":"var _jsxFileName = \"/Users/safahi/Documents/GitHub/interface/hollisDEX/src/components/SearchModal/CurrencyList.tsx\";\nimport { currencyEquals, CAVAX, Token } from '@pangolindex/sdk';\nimport React, { useCallback, useMemo } from 'react';\nimport { FixedSizeList } from 'react-window';\nimport { Text } from 'rebass';\nimport styled from 'styled-components';\nimport { useActiveWeb3React } from '../../hooks';\nimport { useSelectedTokenList, WrappedTokenInfo } from '../../state/lists/hooks';\nimport { useAddUserToken, useRemoveUserAddedToken } from '../../state/user/hooks';\nimport { useCurrencyBalance } from '../../state/wallet/hooks';\nimport { LinkStyledButton, TYPE } from '../../theme';\nimport { useIsUserAddedToken } from '../../hooks/Tokens';\nimport Column from '../Column';\nimport { RowFixed } from '../Row';\nimport CurrencyLogo from '../CurrencyLogo';\nimport { MouseoverTooltip } from '../Tooltip';\nimport { FadedSpan, MenuItem } from './styleds';\nimport Loader from '../Loader';\nimport { isTokenOnList } from '../../utils';\nimport { useTranslation } from 'react-i18next';\nimport { useChainId } from 'src/hooks';\n\nfunction currencyKey(currency, chainId) {\n  return currency instanceof Token ? currency.address : currency === CAVAX[chainId] ? 'AVAX' : '';\n}\n\nconst StyledBalanceText = styled(Text)`\n  white-space: nowrap;\n  overflow: hidden;\n  max-width: 5rem;\n  text-overflow: ellipsis;\n`;\nconst Tag = styled.div`\n  background-color: ${_ref => {\n  let {\n    theme\n  } = _ref;\n  return theme.bg3;\n}};\n  color: ${_ref2 => {\n  let {\n    theme\n  } = _ref2;\n  return theme.text2;\n}};\n  font-size: 14px;\n  border-radius: 4px;\n  padding: 0.25rem 0.3rem 0.25rem 0.3rem;\n  max-width: 6rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  justify-self: flex-end;\n  margin-right: 4px;\n`;\n\nfunction Balance(_ref3) {\n  let {\n    balance\n  } = _ref3;\n  return /*#__PURE__*/React.createElement(StyledBalanceText, {\n    title: balance.toExact(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 10\n    }\n  }, balance.toSignificant(4));\n}\n\nconst TagContainer = styled.div`\n  display: flex;\n  justify-content: flex-end;\n`;\n\nfunction TokenTags(_ref4) {\n  let {\n    currency\n  } = _ref4;\n\n  if (!(currency instanceof WrappedTokenInfo)) {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 12\n      }\n    });\n  }\n\n  const tags = currency.tags;\n  if (!tags || tags.length === 0) return /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 42\n    }\n  });\n  const tag = tags[0];\n  return /*#__PURE__*/React.createElement(TagContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(MouseoverTooltip, {\n    text: tag.description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Tag, {\n    key: tag.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, tag.name)), tags.length > 1 ? /*#__PURE__*/React.createElement(MouseoverTooltip, {\n    text: tags.slice(1).map(_ref5 => {\n      let {\n        name,\n        description\n      } = _ref5;\n      return `${name}: ${description}`;\n    }).join('; \\n'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Tag, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, \"...\")) : null);\n}\n\nfunction CurrencyRow(_ref6) {\n  let {\n    currency,\n    onSelect,\n    isSelected,\n    otherSelected,\n    style\n  } = _ref6;\n  const {\n    account\n  } = useActiveWeb3React();\n  const chainId = useChainId();\n  const key = currencyKey(currency, chainId);\n  const selectedTokenList = useSelectedTokenList();\n  const isOnSelectedList = isTokenOnList(selectedTokenList, chainId, currency);\n  const customAdded = useIsUserAddedToken(currency);\n  const balance = useCurrencyBalance(chainId, account !== null && account !== void 0 ? account : undefined, currency);\n  const removeToken = useRemoveUserAddedToken();\n  const addToken = useAddUserToken();\n  const {\n    t\n  } = useTranslation(); // only show add or remove buttons if not on selected list\n\n  return /*#__PURE__*/React.createElement(MenuItem, {\n    style: style,\n    className: `token-item-${key}`,\n    onClick: () => isSelected ? null : onSelect(),\n    disabled: isSelected,\n    selected: otherSelected,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CurrencyLogo, {\n    currency: currency,\n    size: 24,\n    chainId: chainId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Column, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    title: currency.name,\n    fontWeight: 500,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }, currency.symbol), /*#__PURE__*/React.createElement(FadedSpan, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }, !isOnSelectedList && customAdded ? /*#__PURE__*/React.createElement(TYPE.main, {\n    fontWeight: 500,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }, t('searchModal.addedByUser'), /*#__PURE__*/React.createElement(LinkStyledButton, {\n    onClick: event => {\n      event.stopPropagation();\n      if (chainId && currency instanceof Token) removeToken(chainId, currency.address);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 15\n    }\n  }, \"(\", t('searchModal.remove'), \")\")) : null, !isOnSelectedList && !customAdded ? /*#__PURE__*/React.createElement(TYPE.main, {\n    fontWeight: 500,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  }, t('searchModal.foundByAddress'), /*#__PURE__*/React.createElement(LinkStyledButton, {\n    onClick: event => {\n      event.stopPropagation();\n      if (currency instanceof Token) addToken(currency);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 15\n    }\n  }, \"(\", t('searchModal.add'), \")\")) : null)), /*#__PURE__*/React.createElement(TokenTags, {\n    currency: currency,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(RowFixed, {\n    style: {\n      justifySelf: 'flex-end'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }\n  }, balance ? /*#__PURE__*/React.createElement(Balance, {\n    balance: balance,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 20\n    }\n  }) : account ? /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 62\n    }\n  }) : null));\n}\n\nexport default function CurrencyList(_ref7) {\n  let {\n    chainId,\n    height,\n    currencies,\n    selectedCurrency,\n    onCurrencySelect,\n    otherCurrency,\n    fixedListRef,\n    showETH\n  } = _ref7;\n  // const itemData = useMemo(() => (showETH ? [Currency.CAVAX, ...currencies] : currencies), [currencies, showETH])\n  const itemData = useMemo(() => showETH ? [CAVAX[chainId], ...currencies] : currencies, [currencies, showETH, chainId]);\n  const Row = useCallback(_ref8 => {\n    let {\n      data,\n      index,\n      style\n    } = _ref8;\n    const currency = data[index];\n    const isSelected = Boolean(selectedCurrency && currencyEquals(selectedCurrency, currency));\n    const otherSelected = Boolean(otherCurrency && currencyEquals(otherCurrency, currency));\n\n    const handleSelect = () => onCurrencySelect(currency);\n\n    return /*#__PURE__*/React.createElement(CurrencyRow, {\n      style: style,\n      currency: currency,\n      isSelected: isSelected,\n      onSelect: handleSelect,\n      otherSelected: otherSelected,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }\n    });\n  }, [onCurrencySelect, otherCurrency, selectedCurrency]);\n  const itemKey = useCallback((index, data) => currencyKey(data[index], chainId), [chainId]);\n  return /*#__PURE__*/React.createElement(FixedSizeList, {\n    height: height,\n    ref: fixedListRef,\n    width: \"100%\",\n    itemData: itemData,\n    itemCount: itemData.length,\n    itemSize: 56,\n    itemKey: itemKey,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 5\n    }\n  }, Row);\n}","map":{"version":3,"sources":["/Users/safahi/Documents/GitHub/interface/hollisDEX/src/components/SearchModal/CurrencyList.tsx"],"names":["currencyEquals","CAVAX","Token","React","useCallback","useMemo","FixedSizeList","Text","styled","useActiveWeb3React","useSelectedTokenList","WrappedTokenInfo","useAddUserToken","useRemoveUserAddedToken","useCurrencyBalance","LinkStyledButton","TYPE","useIsUserAddedToken","Column","RowFixed","CurrencyLogo","MouseoverTooltip","FadedSpan","MenuItem","Loader","isTokenOnList","useTranslation","useChainId","currencyKey","currency","chainId","address","StyledBalanceText","Tag","div","theme","bg3","text2","Balance","balance","toExact","toSignificant","TagContainer","TokenTags","tags","length","tag","description","id","name","slice","map","join","CurrencyRow","onSelect","isSelected","otherSelected","style","account","key","selectedTokenList","isOnSelectedList","customAdded","undefined","removeToken","addToken","t","symbol","event","stopPropagation","justifySelf","CurrencyList","height","currencies","selectedCurrency","onCurrencySelect","otherCurrency","fixedListRef","showETH","itemData","Row","data","index","Boolean","handleSelect","itemKey"],"mappings":"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","sourcesContent":["import { Currency, CurrencyAmount, currencyEquals, CAVAX, Token, ChainId } from '@pangolindex/sdk'\nimport React, { CSSProperties, MutableRefObject, useCallback, useMemo } from 'react'\nimport { FixedSizeList } from 'react-window'\nimport { Text } from 'rebass'\nimport styled from 'styled-components'\nimport { useActiveWeb3React } from '../../hooks'\nimport { useSelectedTokenList, WrappedTokenInfo } from '../../state/lists/hooks'\nimport { useAddUserToken, useRemoveUserAddedToken } from '../../state/user/hooks'\nimport { useCurrencyBalance } from '../../state/wallet/hooks'\nimport { LinkStyledButton, TYPE } from '../../theme'\nimport { useIsUserAddedToken } from '../../hooks/Tokens'\nimport Column from '../Column'\nimport { RowFixed } from '../Row'\nimport CurrencyLogo from '../CurrencyLogo'\nimport { MouseoverTooltip } from '../Tooltip'\nimport { FadedSpan, MenuItem } from './styleds'\nimport Loader from '../Loader'\nimport { isTokenOnList } from '../../utils'\nimport { useTranslation } from 'react-i18next'\nimport { useChainId } from 'src/hooks'\n\nfunction currencyKey(currency: Currency, chainId: ChainId): string {\n  return currency instanceof Token ? currency.address : currency === CAVAX[chainId] ? 'AVAX' : ''\n}\n\nconst StyledBalanceText = styled(Text)`\n  white-space: nowrap;\n  overflow: hidden;\n  max-width: 5rem;\n  text-overflow: ellipsis;\n`\n\nconst Tag = styled.div`\n  background-color: ${({ theme }) => theme.bg3};\n  color: ${({ theme }) => theme.text2};\n  font-size: 14px;\n  border-radius: 4px;\n  padding: 0.25rem 0.3rem 0.25rem 0.3rem;\n  max-width: 6rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  justify-self: flex-end;\n  margin-right: 4px;\n`\n\nfunction Balance({ balance }: { balance: CurrencyAmount }) {\n  return <StyledBalanceText title={balance.toExact()}>{balance.toSignificant(4)}</StyledBalanceText>\n}\n\nconst TagContainer = styled.div`\n  display: flex;\n  justify-content: flex-end;\n`\n\nfunction TokenTags({ currency }: { currency: Currency }) {\n  if (!(currency instanceof WrappedTokenInfo)) {\n    return <span />\n  }\n\n  const tags = currency.tags\n  if (!tags || tags.length === 0) return <span />\n\n  const tag = tags[0]\n\n  return (\n    <TagContainer>\n      <MouseoverTooltip text={tag.description}>\n        <Tag key={tag.id}>{tag.name}</Tag>\n      </MouseoverTooltip>\n      {tags.length > 1 ? (\n        <MouseoverTooltip\n          text={tags\n            .slice(1)\n            .map(({ name, description }) => `${name}: ${description}`)\n            .join('; \\n')}\n        >\n          <Tag>...</Tag>\n        </MouseoverTooltip>\n      ) : null}\n    </TagContainer>\n  )\n}\n\nfunction CurrencyRow({\n  currency,\n  onSelect,\n  isSelected,\n  otherSelected,\n  style\n}: {\n  currency: Currency\n  onSelect: () => void\n  isSelected: boolean\n  otherSelected: boolean\n  style: CSSProperties\n}) {\n  const { account } = useActiveWeb3React()\n  const chainId = useChainId()\n  const key = currencyKey(currency, chainId)\n  const selectedTokenList = useSelectedTokenList()\n  const isOnSelectedList = isTokenOnList(selectedTokenList, chainId, currency)\n  const customAdded = useIsUserAddedToken(currency)\n  const balance = useCurrencyBalance(chainId, account ?? undefined, currency)\n\n  const removeToken = useRemoveUserAddedToken()\n  const addToken = useAddUserToken()\n  const { t } = useTranslation()\n\n  // only show add or remove buttons if not on selected list\n  return (\n    <MenuItem\n      style={style}\n      className={`token-item-${key}`}\n      onClick={() => (isSelected ? null : onSelect())}\n      disabled={isSelected}\n      selected={otherSelected}\n    >\n      <CurrencyLogo currency={currency} size={24} chainId={chainId} />\n      <Column>\n        <Text title={currency.name} fontWeight={500}>\n          {currency.symbol}\n        </Text>\n        <FadedSpan>\n          {!isOnSelectedList && customAdded ? (\n            <TYPE.main fontWeight={500}>\n              {t('searchModal.addedByUser')}\n              <LinkStyledButton\n                onClick={event => {\n                  event.stopPropagation()\n                  if (chainId && currency instanceof Token) removeToken(chainId, currency.address)\n                }}\n              >\n                ({t('searchModal.remove')})\n              </LinkStyledButton>\n            </TYPE.main>\n          ) : null}\n          {!isOnSelectedList && !customAdded ? (\n            <TYPE.main fontWeight={500}>\n              {t('searchModal.foundByAddress')}\n              <LinkStyledButton\n                onClick={event => {\n                  event.stopPropagation()\n                  if (currency instanceof Token) addToken(currency)\n                }}\n              >\n                ({t('searchModal.add')})\n              </LinkStyledButton>\n            </TYPE.main>\n          ) : null}\n        </FadedSpan>\n      </Column>\n      <TokenTags currency={currency} />\n      <RowFixed style={{ justifySelf: 'flex-end' }}>\n        {balance ? <Balance balance={balance} /> : account ? <Loader /> : null}\n      </RowFixed>\n    </MenuItem>\n  )\n}\n\nexport default function CurrencyList({\n  chainId,\n  height,\n  currencies,\n  selectedCurrency,\n  onCurrencySelect,\n  otherCurrency,\n  fixedListRef,\n  showETH\n}: {\n  chainId: ChainId\n  height: number\n  currencies: Currency[]\n  selectedCurrency?: Currency | null\n  onCurrencySelect: (currency: Currency) => void\n  otherCurrency?: Currency | null\n  fixedListRef?: MutableRefObject<FixedSizeList | undefined>\n  showETH: boolean\n}) {\n  // const itemData = useMemo(() => (showETH ? [Currency.CAVAX, ...currencies] : currencies), [currencies, showETH])\n  const itemData = useMemo(() => (showETH ? [CAVAX[chainId], ...currencies] : currencies), [\n    currencies,\n    showETH,\n    chainId\n  ])\n\n  const Row = useCallback(\n    ({ data, index, style }) => {\n      const currency: Currency = data[index]\n      const isSelected = Boolean(selectedCurrency && currencyEquals(selectedCurrency, currency))\n      const otherSelected = Boolean(otherCurrency && currencyEquals(otherCurrency, currency))\n      const handleSelect = () => onCurrencySelect(currency)\n      return (\n        <CurrencyRow\n          style={style}\n          currency={currency}\n          isSelected={isSelected}\n          onSelect={handleSelect}\n          otherSelected={otherSelected}\n        />\n      )\n    },\n    [onCurrencySelect, otherCurrency, selectedCurrency]\n  )\n\n  const itemKey = useCallback((index: number, data: any) => currencyKey(data[index], chainId), [chainId])\n\n  return (\n    <FixedSizeList\n      height={height}\n      ref={fixedListRef as any}\n      width=\"100%\"\n      itemData={itemData}\n      itemCount={itemData.length}\n      itemSize={56}\n      itemKey={itemKey}\n    >\n      {Row}\n    </FixedSizeList>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}