{"ast":null,"code":"var _jsxFileName = \"/Users/safahi/Documents/GitHub/interface/hollisDEX/src/pages/Beta/Governance/index.tsx\";\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Text, Loader } from '@pangolindex/components';\nimport { PageWrapper, PageTitle, ContentWrapper, About, WrapSmall, AddressButton, TextButton, StyledExternalLink, DefaultButton // EmptyProposals\n} from './styleds';\nimport GovernanceCard from './GovernanceCard';\nimport { useGetProposalsViaSubgraph, useUserVotes, useUserDelegatee } from 'src/state/governance/hooks';\nimport DelegateModal from 'src/components/vote/DelegateModal';\nimport { useTokenBalance } from 'src/state/wallet/hooks';\nimport { useActiveWeb3React } from 'src/hooks';\nimport { ZERO_ADDRESS } from 'src/constants';\nimport { PNG } from 'src/constants/tokens';\nimport { JSBI, ChainId } from '@pangolindex/sdk';\nimport { shortenAddress, getEtherscanLink } from 'src/utils';\nimport FormattedCurrencyAmount from 'src/components/FormattedCurrencyAmount';\nimport { TYPE } from 'src/theme';\nimport { RowBetween, RowFixed } from 'src/components/Row';\nimport { useModalOpen, useToggleDelegateModal } from 'src/state/application/hooks';\nimport { ApplicationModal } from 'src/state/application/actions';\nimport { BETA_MENU_LINK } from 'src/constants';\n\nconst GovernanceUI = () => {\n  const {\n    account,\n    chainId\n  } = useActiveWeb3React();\n  const {\n    t\n  } = useTranslation(); // toggle for showing delegation modal\n\n  const showDelegateModal = useModalOpen(ApplicationModal.DELEGATE);\n  const toggleDelegateModal = useToggleDelegateModal(); // get data to list all proposals\n\n  const allProposals = useGetProposalsViaSubgraph(); // user data\n\n  const availableVotes = useUserVotes();\n  const pngBalance = useTokenBalance(account !== null && account !== void 0 ? account : undefined, chainId ? PNG[chainId] : undefined);\n  const userDelegatee = useUserDelegatee(); // show delegation option if they have have a balance, but have not delegated\n\n  const showUnlockVoting = Boolean(pngBalance && JSBI.notEqual(pngBalance.raw, JSBI.BigInt(0)) && userDelegatee === ZERO_ADDRESS);\n  return /*#__PURE__*/React.createElement(PageWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DelegateModal, {\n    isOpen: showDelegateModal,\n    onDismiss: toggleDelegateModal,\n    title: showUnlockVoting ? t('votePage.unlockVotes') : t('votePage.updateDelegation'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(PageTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, t('votePage.pangolinGovernance')), /*#__PURE__*/React.createElement(ContentWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(About, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    fontSize: 28,\n    fontWeight: 800,\n    lineHeight: \"33px\",\n    color: \"text10\",\n    style: {\n      marginBottom: '14px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, t('votePage.about')), /*#__PURE__*/React.createElement(Text, {\n    fontSize: 16,\n    lineHeight: \"24px\",\n    color: \"text10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, t('votePage.earnedPngTokens')), /*#__PURE__*/React.createElement(Text, {\n    fontSize: 16,\n    lineHeight: \"24px\",\n    color: \"text10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, t('votePage.eligibleToVote')), /*#__PURE__*/React.createElement(Text, {\n    fontSize: 16,\n    lineHeight: \"24px\",\n    color: \"text10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, t('votePage.governanceVotes'))), /*#__PURE__*/React.createElement(WrapSmall, {\n    style: {\n      justifyContent: 'flex-end',\n      marginTop: '8px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, showUnlockVoting ? /*#__PURE__*/React.createElement(DefaultButton, {\n    variant: \"primary\",\n    onClick: toggleDelegateModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, t('votePage.unlockVoting')) : availableVotes && JSBI.notEqual(JSBI.BigInt(0), availableVotes === null || availableVotes === void 0 ? void 0 : availableVotes.raw) ? /*#__PURE__*/React.createElement(TYPE.body, {\n    fontWeight: 500,\n    mr: \"6px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormattedCurrencyAmount, {\n    currencyAmount: availableVotes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }), \" \", t('votePage.votes')) : pngBalance && userDelegatee && userDelegatee !== ZERO_ADDRESS && JSBI.notEqual(JSBI.BigInt(0), pngBalance === null || pngBalance === void 0 ? void 0 : pngBalance.raw) ? /*#__PURE__*/React.createElement(TYPE.body, {\n    fontWeight: 500,\n    mr: \"6px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormattedCurrencyAmount, {\n    currencyAmount: pngBalance,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  }), \" \", t('votePage.votes')) : ''), !showUnlockVoting && /*#__PURE__*/React.createElement(RowBetween, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }), userDelegatee && userDelegatee !== ZERO_ADDRESS ? /*#__PURE__*/React.createElement(RowFixed, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TYPE.body, {\n    fontWeight: 500,\n    mr: \"4px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, t('votePage.delegatedTo')), /*#__PURE__*/React.createElement(AddressButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(StyledExternalLink, {\n    href: getEtherscanLink(ChainId.FUJI, userDelegatee, 'address'),\n    style: {\n      margin: '0 4px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 19\n    }\n  }, userDelegatee === account ? 'Self' : shortenAddress(userDelegatee)), /*#__PURE__*/React.createElement(TextButton, {\n    onClick: toggleDelegateModal,\n    style: {\n      marginLeft: '4px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 19\n    }\n  }, \"(\", t('votePage.edit'), \")\"))) : ''), (!allProposals || allProposals.length === 0) && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: 'center',\n      margin: '30px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Loader, {\n    size: 100,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  })), allProposals === null || allProposals === void 0 ? void 0 : allProposals.map(p => {\n    return /*#__PURE__*/React.createElement(GovernanceCard, {\n      id: p.id,\n      title: p.title,\n      status: p.status,\n      to: `${BETA_MENU_LINK.vote}/${p.id}`,\n      key: p.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 13\n      }\n    });\n  })));\n};\n\nexport default GovernanceUI;","map":{"version":3,"sources":["/Users/safahi/Documents/GitHub/interface/hollisDEX/src/pages/Beta/Governance/index.tsx"],"names":["React","useTranslation","Text","Loader","PageWrapper","PageTitle","ContentWrapper","About","WrapSmall","AddressButton","TextButton","StyledExternalLink","DefaultButton","GovernanceCard","useGetProposalsViaSubgraph","useUserVotes","useUserDelegatee","DelegateModal","useTokenBalance","useActiveWeb3React","ZERO_ADDRESS","PNG","JSBI","ChainId","shortenAddress","getEtherscanLink","FormattedCurrencyAmount","TYPE","RowBetween","RowFixed","useModalOpen","useToggleDelegateModal","ApplicationModal","BETA_MENU_LINK","GovernanceUI","account","chainId","t","showDelegateModal","DELEGATE","toggleDelegateModal","allProposals","availableVotes","pngBalance","undefined","userDelegatee","showUnlockVoting","Boolean","notEqual","raw","BigInt","marginBottom","justifyContent","marginTop","FUJI","margin","marginLeft","length","textAlign","map","p","id","title","status","vote"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { Text, Loader } from '@pangolindex/components'\nimport {\n  PageWrapper,\n  PageTitle,\n  ContentWrapper,\n  About,\n  WrapSmall,\n  AddressButton,\n  TextButton,\n  StyledExternalLink,\n  DefaultButton\n  // EmptyProposals\n} from './styleds'\nimport GovernanceCard, { ProposalStates } from './GovernanceCard'\nimport { useGetProposalsViaSubgraph, ProposalData, useUserVotes, useUserDelegatee } from 'src/state/governance/hooks'\nimport DelegateModal from 'src/components/vote/DelegateModal'\nimport { useTokenBalance } from 'src/state/wallet/hooks'\nimport { useActiveWeb3React } from 'src/hooks'\nimport { ZERO_ADDRESS } from 'src/constants'\nimport { PNG } from 'src/constants/tokens'\nimport { JSBI, TokenAmount, ChainId } from '@pangolindex/sdk'\nimport { shortenAddress, getEtherscanLink } from 'src/utils'\nimport FormattedCurrencyAmount from 'src/components/FormattedCurrencyAmount'\nimport { TYPE } from 'src/theme'\nimport { RowBetween, RowFixed } from 'src/components/Row'\nimport { useModalOpen, useToggleDelegateModal } from 'src/state/application/hooks'\nimport { ApplicationModal } from 'src/state/application/actions'\nimport { BETA_MENU_LINK } from 'src/constants'\n\nconst GovernanceUI = () => {\n  const { account, chainId } = useActiveWeb3React()\n  const { t } = useTranslation()\n\n  // toggle for showing delegation modal\n  const showDelegateModal = useModalOpen(ApplicationModal.DELEGATE)\n  const toggleDelegateModal = useToggleDelegateModal()\n\n  // get data to list all proposals\n  const allProposals: ProposalData[] = useGetProposalsViaSubgraph()\n\n  // user data\n  const availableVotes: TokenAmount | undefined = useUserVotes()\n  const pngBalance: TokenAmount | undefined = useTokenBalance(account ?? undefined, chainId ? PNG[chainId] : undefined)\n  const userDelegatee: string | undefined = useUserDelegatee()\n\n  // show delegation option if they have have a balance, but have not delegated\n  const showUnlockVoting = Boolean(\n    pngBalance && JSBI.notEqual(pngBalance.raw, JSBI.BigInt(0)) && userDelegatee === ZERO_ADDRESS\n  )\n\n  return (\n    <PageWrapper>\n      <DelegateModal\n        isOpen={showDelegateModal}\n        onDismiss={toggleDelegateModal}\n        title={showUnlockVoting ? t('votePage.unlockVotes') : t('votePage.updateDelegation')}\n      />\n      <PageTitle>{t('votePage.pangolinGovernance')}</PageTitle>\n      <ContentWrapper>\n        <About>\n          <Text fontSize={28} fontWeight={800} lineHeight=\"33px\" color=\"text10\" style={{ marginBottom: '14px' }}>\n            {t('votePage.about')}\n          </Text>\n          <Text fontSize={16} lineHeight=\"24px\" color=\"text10\">\n            {t('votePage.earnedPngTokens')}\n          </Text>\n          <Text fontSize={16} lineHeight=\"24px\" color=\"text10\">\n            {t('votePage.eligibleToVote')}\n          </Text>\n          <Text fontSize={16} lineHeight=\"24px\" color=\"text10\">\n            {t('votePage.governanceVotes')}\n          </Text>\n        </About>\n        <WrapSmall style={{ justifyContent: 'flex-end', marginTop: '8px' }}>\n          {showUnlockVoting ? (\n            <DefaultButton variant=\"primary\" onClick={toggleDelegateModal}>\n              {t('votePage.unlockVoting')}\n            </DefaultButton>\n          ) : availableVotes && JSBI.notEqual(JSBI.BigInt(0), availableVotes?.raw) ? (\n            <TYPE.body fontWeight={500} mr=\"6px\">\n              <FormattedCurrencyAmount currencyAmount={availableVotes} /> {t('votePage.votes')}\n            </TYPE.body>\n          ) : pngBalance &&\n            userDelegatee &&\n            userDelegatee !== ZERO_ADDRESS &&\n            JSBI.notEqual(JSBI.BigInt(0), pngBalance?.raw) ? (\n            <TYPE.body fontWeight={500} mr=\"6px\">\n              <FormattedCurrencyAmount currencyAmount={pngBalance} /> {t('votePage.votes')}\n            </TYPE.body>\n          ) : (\n            ''\n          )}\n        </WrapSmall>\n        {!showUnlockVoting && (\n          <RowBetween>\n            <div />\n            {userDelegatee && userDelegatee !== ZERO_ADDRESS ? (\n              <RowFixed>\n                <TYPE.body fontWeight={500} mr=\"4px\">\n                  {t('votePage.delegatedTo')}\n                </TYPE.body>\n                <AddressButton>\n                  <StyledExternalLink\n                    href={getEtherscanLink(ChainId.FUJI, userDelegatee, 'address')}\n                    style={{ margin: '0 4px' }}\n                  >\n                    {userDelegatee === account ? 'Self' : shortenAddress(userDelegatee)}\n                  </StyledExternalLink>\n                  <TextButton onClick={toggleDelegateModal} style={{ marginLeft: '4px' }}>\n                    ({t('votePage.edit')})\n                  </TextButton>\n                </AddressButton>\n              </RowFixed>\n            ) : (\n              ''\n            )}\n          </RowBetween>\n        )}\n        {(!allProposals || allProposals.length === 0) && (\n          <div style={{ textAlign: 'center', margin: '30px' }}>\n            <Loader size={100} />\n          </div>\n        )}\n        {/* {allProposals?.length === 0 && (\n          <EmptyProposals>\n            <TYPE.body style={{ marginBottom: '8px' }}>{t('votePage.noProposalsFound')}</TYPE.body>\n            <TYPE.subHeader>\n              <i>{t('votePage.proposalCommunityMembers')}</i>\n            </TYPE.subHeader>\n          </EmptyProposals>\n        )} */}\n        {allProposals?.map((p: ProposalData) => {\n          return (\n            <GovernanceCard\n              id={p.id}\n              title={p.title}\n              status={p.status as ProposalStates}\n              to={`${BETA_MENU_LINK.vote}/${p.id}`}\n              key={p.id}\n            />\n          )\n        })}\n      </ContentWrapper>\n    </PageWrapper>\n  )\n}\nexport default GovernanceUI\n"]},"metadata":{},"sourceType":"module"}