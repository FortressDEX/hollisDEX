{"ast":null,"code":"var _jsxFileName = \"/Users/safahi/Documents/GitHub/interface/hollisDEX/src/components/FiatInputPanel/FiatSearchModal.tsx\";\nimport React, { useRef, useMemo, useState, useCallback } from 'react';\nimport Modal from '../Modal';\nimport { StyledInput } from '../PurchaseForm/input';\nimport { FixedSizeList } from 'react-window';\nimport Column from '../Column';\nimport { MenuItem, PaddedColumn, Separator } from '../SearchModal/styleds';\nimport { RowBetween } from '../Row';\nimport QuestionHelper from '../QuestionHelper';\nimport { CloseIcon } from '../../theme';\nimport { Text } from 'rebass';\nimport AutoSizer from 'react-virtualized-auto-sizer';\nimport { SUPPORTED_FIAT_CURRENCIES } from '../../constants/fiat';\nimport { StyledEthereumLogo as FiatLogo } from '../CurrencyLogo';\nimport { filterFiats } from './filtering';\nexport default function FiatSearchModal(_ref) {\n  let {\n    isOpen,\n    onDismiss,\n    onFiatSelect,\n    selectedFiat\n  } = _ref;\n  const handleFiatSelect = useCallback(fiat => {\n    onFiatSelect(fiat);\n    onDismiss();\n  }, [onDismiss, onFiatSelect]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const filteredFiats = useMemo(() => {\n    return filterFiats(SUPPORTED_FIAT_CURRENCIES, searchQuery);\n  }, [searchQuery]);\n  const handleInput = useCallback(event => {\n    var _fixedList$current;\n\n    const input = event.target.value;\n    setSearchQuery(input);\n    (_fixedList$current = fixedList.current) === null || _fixedList$current === void 0 ? void 0 : _fixedList$current.scrollTo(0);\n  }, []);\n  const handleEnter = useCallback(e => {\n    if (e.key === 'Enter') {\n      if (filteredFiats.length > 0) {\n        var _filteredFiats$0$symb;\n\n        if (((_filteredFiats$0$symb = filteredFiats[0].symbol) === null || _filteredFiats$0$symb === void 0 ? void 0 : _filteredFiats$0$symb.toLowerCase()) === searchQuery.trim().toLowerCase() || filteredFiats.length === 1) {\n          handleFiatSelect(filteredFiats[0]);\n        }\n      }\n    }\n  }, [handleFiatSelect, searchQuery, filteredFiats]);\n  const fixedList = useRef();\n  const inputRef = useRef();\n\n  const Row = props => {\n    const fiat = props.data[props.index];\n    const isSelected = Boolean(selectedFiat && fiat.symbol === selectedFiat.symbol);\n\n    const onSelect = () => handleFiatSelect(fiat);\n\n    return /*#__PURE__*/React.createElement(MenuItem, {\n      style: props.style,\n      onClick: () => isSelected ? null : onSelect(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(FiatLogo, {\n      size: '24px',\n      src: `${fiat.logo}`,\n      alt: fiat.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Column, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Text, {\n      title: fiat.name,\n      fontWeight: isSelected ? 700 : 500,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    }, fiat.symbol)));\n  };\n\n  return /*#__PURE__*/React.createElement(Modal, {\n    isOpen: isOpen,\n    onDismiss: onDismiss,\n    maxHeight: 80,\n    minHeight: 80,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Column, {\n    style: {\n      width: '100%',\n      flex: '1 1'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(PaddedColumn, {\n    gap: \"14px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(RowBetween, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    fontWeight: 500,\n    fontSize: 16,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, \"Select a currency\", /*#__PURE__*/React.createElement(QuestionHelper, {\n    text: \"Find a currency by its name or symbol.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(CloseIcon, {\n    onClick: onDismiss,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(StyledInput, {\n    type: \"text\",\n    id: \"token-search-input\",\n    placeholder: \"Search\",\n    value: searchQuery,\n    ref: inputRef,\n    onChange: handleInput,\n    onKeyDown: handleEnter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Separator, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flex: '1'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(AutoSizer, {\n    disableWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, _ref2 => {\n    let {\n      height\n    } = _ref2;\n    return /*#__PURE__*/React.createElement(FixedSizeList, {\n      height: height,\n      width: \"100%\",\n      itemData: filteredFiats,\n      itemCount: filteredFiats.length,\n      itemSize: 56,\n      ref: fixedList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 15\n      }\n    }, Row);\n  }))));\n}","map":{"version":3,"sources":["/Users/safahi/Documents/GitHub/interface/hollisDEX/src/components/FiatInputPanel/FiatSearchModal.tsx"],"names":["React","useRef","useMemo","useState","useCallback","Modal","StyledInput","FixedSizeList","Column","MenuItem","PaddedColumn","Separator","RowBetween","QuestionHelper","CloseIcon","Text","AutoSizer","SUPPORTED_FIAT_CURRENCIES","StyledEthereumLogo","FiatLogo","filterFiats","FiatSearchModal","isOpen","onDismiss","onFiatSelect","selectedFiat","handleFiatSelect","fiat","searchQuery","setSearchQuery","filteredFiats","handleInput","event","input","target","value","fixedList","current","scrollTo","handleEnter","e","key","length","symbol","toLowerCase","trim","inputRef","Row","props","data","index","isSelected","Boolean","onSelect","style","logo","title","name","width","flex","height"],"mappings":"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","sourcesContent":["import React, { useRef, KeyboardEvent, RefObject, useMemo, useState, useCallback } from 'react'\nimport Modal from '../Modal'\nimport { StyledInput } from '../PurchaseForm/input'\nimport { FixedSizeList, ListChildComponentProps } from 'react-window'\nimport Column from '../Column'\nimport { MenuItem, PaddedColumn, Separator } from '../SearchModal/styleds'\nimport { RowBetween } from '../Row'\nimport QuestionHelper from '../QuestionHelper'\nimport { CloseIcon } from '../../theme'\nimport { Fiat } from '../../constants/fiat'\nimport { Text } from 'rebass'\nimport AutoSizer from 'react-virtualized-auto-sizer'\nimport { SUPPORTED_FIAT_CURRENCIES } from '../../constants/fiat'\nimport { StyledEthereumLogo as FiatLogo } from '../CurrencyLogo'\nimport { filterFiats } from './filtering'\n\ninterface FiatSearchModalProps {\n  isOpen: boolean\n  onDismiss: () => void\n  selectedFiat?: Fiat\n  onFiatSelect: (fiat: Fiat) => void\n}\n\nexport default function FiatSearchModal({ isOpen, onDismiss, onFiatSelect, selectedFiat }: FiatSearchModalProps) {\n  const handleFiatSelect = useCallback(\n    (fiat: Fiat) => {\n      onFiatSelect(fiat)\n      onDismiss()\n    },\n    [onDismiss, onFiatSelect]\n  )\n\n  const [searchQuery, setSearchQuery] = useState<string>('')\n  const filteredFiats: Fiat[] = useMemo(() => {\n    return filterFiats(SUPPORTED_FIAT_CURRENCIES, searchQuery)\n  }, [searchQuery])\n  const handleInput = useCallback(event => {\n    const input = event.target.value\n    setSearchQuery(input)\n    fixedList.current?.scrollTo(0)\n  }, [])\n  const handleEnter = useCallback(\n    (e: KeyboardEvent<HTMLInputElement>) => {\n      if (e.key === 'Enter') {\n        if (filteredFiats.length > 0) {\n          if (\n            filteredFiats[0].symbol?.toLowerCase() === searchQuery.trim().toLowerCase() ||\n            filteredFiats.length === 1\n          ) {\n            handleFiatSelect(filteredFiats[0])\n          }\n        }\n      }\n    },\n    [handleFiatSelect, searchQuery, filteredFiats]\n  )\n\n  const fixedList = useRef<FixedSizeList>()\n  const inputRef = useRef<HTMLInputElement>()\n\n  const Row = (props: ListChildComponentProps) => {\n    const fiat = props.data[props.index]\n    const isSelected = Boolean(selectedFiat && fiat.symbol === selectedFiat.symbol)\n    const onSelect = () => handleFiatSelect(fiat)\n    return (\n      <MenuItem style={props.style} onClick={() => (isSelected ? null : onSelect())}>\n        <FiatLogo size={'24px'} src={`${fiat.logo}`} alt={fiat.title} />\n        <Column>\n          <Text title={fiat.name} fontWeight={isSelected ? 700 : 500}>\n            {fiat.symbol}\n          </Text>\n        </Column>\n      </MenuItem>\n    )\n  }\n  return (\n    <Modal isOpen={isOpen} onDismiss={onDismiss} maxHeight={80} minHeight={80}>\n      <Column style={{ width: '100%', flex: '1 1' }}>\n        <PaddedColumn gap=\"14px\">\n          <RowBetween>\n            <Text fontWeight={500} fontSize={16}>\n              Select a currency\n              <QuestionHelper text=\"Find a currency by its name or symbol.\" />\n            </Text>\n            <CloseIcon onClick={onDismiss} />\n          </RowBetween>\n          <StyledInput\n            type=\"text\"\n            id=\"token-search-input\"\n            placeholder=\"Search\"\n            value={searchQuery}\n            ref={inputRef as RefObject<HTMLInputElement>}\n            onChange={handleInput}\n            onKeyDown={handleEnter}\n          />\n        </PaddedColumn>\n        <Separator />\n\n        <div style={{ flex: '1' }}>\n          <AutoSizer disableWidth>\n            {({ height }) => (\n              <FixedSizeList\n                height={height}\n                width=\"100%\"\n                itemData={filteredFiats}\n                itemCount={filteredFiats.length}\n                itemSize={56}\n                ref={fixedList as any}\n              >\n                {Row}\n              </FixedSizeList>\n            )}\n          </AutoSizer>\n        </div>\n      </Column>\n    </Modal>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}